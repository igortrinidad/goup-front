webpackJsonp([16],{1013:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),s=a.n(n),r=a(19),o=a(11),i=a.n(o),c=a(363),l=a.n(c),d=a(900),u=(a(874),a(869)),f=a(881),h=a.n(f),m=a(0),p=a.n(m),v=a(872),g=(a.n(v),a.i(v.extendMoment)(p.a));t.default={name:"admin-companies-calendar-show-schedule",components:{mainHeader:i.a,cardPlaceholder:l.a,calendar:h.a},data:function(){return{schedule:a.i(d.a)(),company:a.i(d.a)(),professional:a.i(u.a)(),placeholder:{company:!0,professional:!0,plan:!0,category:!0},interactions:{rescheduler:!1},current_dow:"",reschudle_dow:"",professionals_calendar_settings:[],schedules:[],old_schedule_data:{},reschedule_data:{},selected_date:"",slot_workdays:[],selectedSlot:null}},computed:{},mounted:function(){this.current_dow=g(this.$route.params.day,"DD/MM/YYYY").day(),this.getSchedule()},methods:s()({},a.i(r.a)(["addOnClientMonthSchedules","addOnClientSelectedDaySchedules","removeFromClientMonthSchedules","removeFromClientSelectedDaySchedules","setLoading"]),{changePlaceholder:function(e){this.placeholder.company=e,this.placeholder.professional=e,this.placeholder.plan=e,this.placeholder.category=e},getSchedule:function(){var e=this;e.changePlaceholder(!0),e.$http.get("client/company/schedule/show/"+e.$route.params.schedule_id).then(function(t){e.schedule=t.data.schedule,e.company=t.data.schedule.company,e.professional=t.data.schedule.professional,setTimeout(function(){e.changePlaceholder(!1)},200)}).catch(function(e){console.log(e),errorNotify("","Ocorreu um erro ao pegar as informações do agendamento.")})},cannotReschedule:function(){var e=this,t=g(e.schedule.date+" "+e.schedule.time,"DD/MM/YYYY HH:mm:ss");return t.subtract(e.schedule.category_calendar_settings.advance_reschedule,"hours"),g().isAfter(t)},cannotCancel:function(){var e=this,t=g(e.schedule.date+" "+e.schedule.time,"DD/MM/YYYY HH:mm:ss");return t.subtract(e.schedule.category_calendar_settings.cancel_schedule,"hours"),g().isAfter(t)},maxRescheduleTime:function(){var e=this,t=g(e.schedule.date+" "+e.schedule.time,"DD/MM/YYYY HH:mm:ss");return t.subtract(e.schedule.category_calendar_settings.advance_reschedule,"hours"),t},maxCancelTime:function(){var e=this,t=g(e.schedule.date+" "+e.schedule.time,"DD/MM/YYYY HH:mm:ss");return t.subtract(e.schedule.category_calendar_settings.cancel_schedule,"hours"),t},reschedule:function(e){var t=g(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss"),a=g(),n=!(t.diff(a,"hours")<e.category_calendar_settings.advance_reschedule);if(e.category_calendar_settings.advance_reschedule&&!n)return this.$swal("Não é possível remarcar","A empresa definiu que as devem remarcações devem ser realizadas com até "+e.category_calendar_settings.advance_reschedule+" "+(e.category_calendar_settings.advance_reschedule>1?"horas":"hora")+" de antecedência.","error"),!1;this.old_schedule_data=_.cloneDeep(e),this.reschedule_data=_.cloneDeep(e),this.interactions.rescheduler=!0},handleSelectedTime:function(e,t){var a=this,n=_.findIndex(a.interactions.selectedTimesOpened,{company_id:e});if(n>-1){var s=a.interactions.selectedTimesOpened[n].times.indexOf(t);s>-1?a.interactions.selectedTimesOpened[n].times.splice(s,1):a.interactions.selectedTimesOpened[n].times.push(t)}else a.interactions.selectedTimesOpened.push({company_id:e,times:[t]})},handleTimeVisibility:function(e,t){var a=this,n=_.findIndex(a.interactions.selectedTimesOpened,{company_id:e});if(n>-1){if(a.interactions.selectedTimesOpened[n].times.indexOf(t)>-1)return!0}return!1},handleSlotDay:function(e){var t=this,a=g(t.old_schedule_data.subscription.expire_at,"DD/MM/YYYY");if(e.date.isAfter(a))return t.$swal("Atenção","Seu plano tem validade até "+a.format("DD/MM/YYYY")+", não é possível remarcar um agendamento para datas posteriores ao vencimento do seu plano. Caso necessite remarcar seu agendamento para a data selecionada ("+e.date.format("DD/MM/YYYY")+"), entre em contato com a empresa ou profissional e solicite o reagendamento.","warning"),!1;console.log(e),t.reschedule_data.date=e.date.format("DD/MM/YYYY"),t.selected_date=e.date.format("YYYY-MM-DD"),t.reschudle_dow=e.date.day(),e.date.diff(g(),"days")<0?($("#modal-calendar").modal("hide"),t.$swal({title:"Atenção",text:"A data selecionada é passado ("+e.date.format("DD/MM/YYYY")+"), deseja continuar?",type:"warning",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Selecionar outra data",cancelButtonColor:"#88C657",reverseButtons:!0}).then(function(){t.reschudle_dow=e.date.day(),t.reschedule_data.professional_id&&t.getProfessionalCalendarSettings(),t.reschedule_data.professional_id||t.getCategoryCalendarSettings(),$("#modal-calendar").modal("hide"),$("#modal-reschedule").modal("show")}).catch(function(){t.selected_date="",$("#modal-calendar").modal("show")})):(t.reschudle_dow=e.date.day(),t.reschedule_data.professional_id&&t.getProfessionalCalendarSettings(),t.reschedule_data.professional_id||t.getCategoryCalendarSettings(),$("#modal-calendar").modal("hide"),$("#modal-reschedule").modal("show"))},getSchedules:function(e){var t=this,a=e.start.clone().format("YYYY-MM-DD"),n=e.end.clone().format("YYYY-MM-DD");t.setLoading({is_loading:!0,message:""}),t.$http.post("client/calendar/list",{start:a,end:n}).then(function(e){t.setLoading({is_loading:!1,message:""}),t.schedules=e.data.schedules,$("#modal-calendar").modal("show")}).catch(function(e){console.log(e),t.setLoading({is_loading:!1,message:""})})},getProfessionalCalendarSettings:function(){var e=this;e.setLoading({is_loading:!0,message:""}),e.$http.post("client/company/calendar_settings/to_reschedule",{company_id:e.reschedule_data.company_id,category_id:e.reschedule_data.category_id,date:e.selected_date}).then(function(t){e.professionals_calendar_settings=t.data.professional_calendar_settings,e.handleProfessionalsAvaiableWorkdays(),e.setLoading({is_loading:!1,message:""})}).catch(function(t){console.log(t),e.setLoading({is_loading:!1,message:""})})},getCategoryCalendarSettings:function(){var e=this;e.setLoading({is_loading:!0,message:""}),e.$http.post("client/company/category/calendar_settings/to_reschedule",{company_id:e.reschedule_data.company_id,category_id:e.reschedule_data.category_id,date:e.selected_date}).then(function(t){e.category_calendar_settings=t.data.category_calendar_settings,e.handleCategoryAvaiableWorkdays(),e.setLoading({is_loading:!1,message:""})}).catch(function(t){console.log(t),e.setLoading({is_loading:!1,message:""})})},handleProfessionalsAvaiableWorkdays:function(){var e=this;e.slot_workdays=[];var t=g(e.selected_date,"YYYY-MM-DD");e.professionals_calendar_settings.map(function(a){var n=!1,s=a.workdays.filter(function(t){return t.dow===e.reschudle_dow});a.unavailable_dates_range.map(function(e){var a=g().range(e.from,e.to);n=a.contains(t)}),s.map(function(e){e.schedules=[],e.is_unavaiable=n}),e.slot_workdays.push({professional:a.professional,slots:s}),a.schedules.map(function(e){var t=g(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss").format("HH:mm"),a=_.findIndex(s,{init:t});a>-1&&s[a].schedules.push(e)})})},setSelectedSlot:function(e,t){var a=this;a.selectedSlot=e,e.schedules.length+1>e.quantity?($("#modal-reschedule").modal("hide"),a.$swal({title:"Atenção",text:"O horário selecionado já possui a quantidade de clientes indicada na configuração da agenda do profissional. Por favor selecione outro horário.",type:"warning",showCancelButton:!1,confirmButtonText:"Selecionar outro horário",reverseButtons:!0}).then(function(){a.selectedSlot={},$("#modal-reschedule").modal("show")}).catch(function(){})):(a.reschedule_data.professional_id=t,a.reschedule_data.time=e.init,a.reschedule_data.professional={},a.reschedule_data.professional_workdays={})},saveReschedule:function(){var e=this;e.setLoading({is_loading:!0,message:""}),e.$http.post("client/company/schedule/reschedule",e.reschedule_data).then(function(t){$("#modal-reschedule").modal("hide"),successNotify("","Agendamento remarcado com sucesso."),e.schedule=t.data.schedule,e.handleReschedule(t.data.schedule),e.setLoading({is_loading:!1,message:""})}).catch(function(t){console.log(t),e.setLoading({is_loading:!1,message:""})})},cancelReschedule:function(){this.old_schedule_data={},this.reschedule_data={},this.selectedSlot=null,this.interactions.rescheduler=!1},handleReschedule:function(e){var t=this,a=g(t.old_schedule_data.date,"DD/MM/YYYY"),n=g(e.date,"DD/MM/YYYY");if(a.isSame(n,"day"))t.addOnClientSelectedDaySchedules(e);else{var s=g(t.old_schedule_data.date,"DD/MM/YYYY"),r=g(e.date,"DD/MM/YYYY");s.isSame(r,"month")?(t.addOnClientMonthSchedules(e),t.removeFromClientSelectedDaySchedules(t.old_schedule_data)):(t.removeFromClientMonthSchedules(e),t.removeFromClientSelectedDaySchedules(t.old_schedule_data))}t.cancelReschedule()},handleSameSlot:function(e,t){var a=this,n=g(a.old_schedule_data.date+" "+a.old_schedule_data.time,"DD/MM/YYYY HH:mm:ss"),s=g(a.reschedule_data.date,"DD/MM/YYYY");return!(!n.isSame(s,"day")||n.format("HH:mm")!=e.init||t!=a.old_schedule_data.professional_id)},cancelSchedule:function(e){var t=this,a=g(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss"),n=g(),s=!(a.diff(n,"hours")<e.category_calendar_settings.cancel_schedule);if(e.category_calendar_settings.cancel_schedule&&!s)return t.$swal("Não é possível cancelar","A empresa definiu que os cancelamentos devem ser realizados com até "+e.category_calendar_settings.cancel_schedule+" "+(e.category_calendar_settings.cancel_schedule>1?"horas":"hora")+" de antecedência.","error"),!1;this.old_schedule_data=_.cloneDeep(e);var r=_.cloneDeep(e);t.$swal({title:"Atenção",text:"Confirma o cancelamento deste agendamento?",type:"warning",showCancelButton:!0,confirmButtonText:"Confirmar cancelamento",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(){t.setLoading({is_loading:!0,message:""}),t.$http.post("client/company/schedule/cancel",r).then(function(e){successNotify("","Agendamento cancelado com sucesso."),t.schedule=e.data.schedule,t.handleReschedule(e.data.schedule),t.setLoading({is_loading:!1,message:""})}).catch(function(e){console.log(e),t.setLoading({is_loading:!1,message:""})})}).catch(function(){})},handleCategoryAvaiableWorkdays:function(){var e=this;e.slot_workdays=[];var t=g(e.selected_date,"YYYY-MM-DD"),a=!1,n=e.category_calendar_settings.workdays.filter(function(t){return t.dow===e.reschudle_dow});e.category_calendar_settings.unavailable_dates_range&&e.category_calendar_settings.unavailable_dates_range.map(function(e){var n=g().range(e.from,e.to);a=n.contains(t)}),n.map(function(e){e.schedules=[],e.is_unavaiable=a}),e.slot_workdays.push({professional:null,category:e.category_calendar_settings.category,slots:n}),e.category_calendar_settings.schedules.map(function(e){var t=g(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss").format("HH:mm"),a=_.findIndex(n,{init:t});a>-1&&n[a].schedules.push(e)})},handleSameSlotCategory:function(e,t){var a=this,n=g(a.old_schedule_data.date+" "+a.old_schedule_data.time,"DD/MM/YYYY HH:mm:ss"),s=g(a.reschedule_data.date,"DD/MM/YYYY");return!(!n.isSame(s,"day")||n.format("HH:mm")!=e.init||t!=a.old_schedule_data.category_id)}})}},1206:function(e,t,a){t=e.exports=a(866)(),t.push([e.i,".row.row-client-content[data-v-78e9fbae]{margin:0 -5px}.row.row-client-content .col-md-6.col-xs-6[data-v-78e9fbae]{padding:0 5px}.border-inside-card[data-v-78e9fbae]{margin-top:10px}.selected-slot[data-v-78e9fbae],.selected-slot[data-v-78e9fbae]:hover{background-color:#fff!important;color:#00a369!important;border:1px solid #00a369!important}@media only screen and (max-width:768px){.modal-dialog[data-v-78e9fbae]{width:100%;min-height:100%;padding:0;margin:0}.modal-content[data-v-78e9fbae]{min-height:100%;height:auto;border:0 solid transparent;height:100%;border-radius:0;position:relative}}","",{version:3,sources:["/Users/igortrindade/Code/isaudavel-front/src/modules/client/dashboard/components/dashboard/calendar/schedule-show.vue"],names:[],mappings:"AACA,yCAA2C,aAAe,CACzD,AACD,4DAA8D,aAAe,CAC5E,AACD,qCAAwC,eAAiB,CACxD,AAMD,sEACI,gCAAkC,AAClC,wBAA0B,AAC1B,kCAAoC,CACvC,AAGD,yCACA,+BACQ,WAAY,AACZ,gBAAiB,AACjB,UAAW,AACX,QAAU,CACjB,AACD,gCAEQ,gBAAiB,AACjB,YAAa,AAEb,2BAA8B,AAG9B,YAAa,AACb,gBAAiB,AACjB,iBAAkB,CAJzB,CAMA",file:"schedule-show.vue",sourcesContent:["\n.row.row-client-content[data-v-78e9fbae] { margin: 0 -5px;\n}\n.row.row-client-content .col-md-6.col-xs-6[data-v-78e9fbae] { padding: 0 5px;\n}\n.border-inside-card[data-v-78e9fbae] {  margin-top: 10px;\n}\n.selected-slot[data-v-78e9fbae] {\n    background-color: #fff !important;\n    color: #00A369 !important;\n    border:1px solid #00A369 !important;\n}\n.selected-slot[data-v-78e9fbae]:hover {\n    background-color: #fff !important;\n    color: #00A369 !important;\n    border:1px solid #00A369 !important;\n}\n\n/* make modal fullscreen on mobile*/\n@media only screen and (max-width : 768px) {\n.modal-dialog[data-v-78e9fbae] {\n        width: 100%;\n        min-height: 100%;\n        padding: 0;\n        margin: 0;\n}\n.modal-content[data-v-78e9fbae] {\n        height: 100%;\n        min-height: 100%;\n        height: auto;\n        border-radius: 0;\n        border: 0px solid transparent;\n}\n.modal-content[data-v-78e9fbae] {\n        height: 100%;\n        border-radius: 0;\n        position:relative;\n}\n}\n\n"],sourceRoot:""}])},1304:function(e,t,a){var n=a(1206);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(867)("f530f6c6",n,!0)},1490:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-t-30"},[a("div",{staticClass:"first-container"},[a("main-header",{attrs:{type:"center",title:"Agendamento",cursor:!1,action:function(){return!1},hasback:!0}}),e._v(" "),e.placeholder.company||e.placeholder.professional||e.placeholder.plan?e._e():a("div",{staticClass:"container"},[a("h3",{staticClass:"f-300 text-center m-t-0 m-b-30"},[e._v("Ações")]),e._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body card-padding p-b-5 text-center"},[a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-xs p-5 p-l-10 p-r-10 m-r-5 m-b-5 btn-info",attrs:{type:"button",disabled:e.schedule.is_rescheduled||e.schedule.is_confirmed||e.schedule.is_canceled||e.cannotReschedule()},on:{click:function(t){t.preventDefault(),e.reschedule(e.schedule)}}},[e._v("\n                            Remarcar\n                        ")]),e._v(" "),a("button",{staticClass:"btn btn-xs p-5 p-l-10 p-r-10 m-r-5 m-b-5 btn-danger",attrs:{type:"button",disabled:e.schedule.is_rescheduled||e.schedule.is_confirmed||e.schedule.is_canceled||e.cannotCancel()},on:{click:function(t){t.preventDefault(),e.cancelSchedule(e.schedule)}}},[e._v("\n                            Cancelar\n                        ")])]),e._v(" "),a("span",{staticClass:"row m-t-20"},[a("p",[e._v("Este agendamento somente poderá ser "),a("span",{staticClass:"c-blue"},[e._v("remarcado")]),e._v(" até "),a("b",[e._v(e._s(e.maxRescheduleTime().format("DD/MM/YYYY HH:mm:ss")))]),e._v(".")]),e._v(" "),a("p",[e._v("Este agendamento somente poderá ser "),a("span",{staticClass:"c-red"},[e._v("cancelado")]),e._v(" até "),a("b",[e._v(e._s(e.maxCancelTime().format("DD/MM/YYYY HH:mm:ss")))]),e._v(".")])])])])]),e._v(" "),a("div",{staticClass:"container"},[a("h3",{staticClass:"f-300 text-center m-t-0 m-b-30"},[e._v("Empresa")]),e._v(" "),e.placeholder.company?a("card-placeholder",{attrs:{circleImage:!0,small:!0}}):e._e(),e._v(" "),e.placeholder.company?e._e():a("div",{staticClass:"card"},[a("div",{staticClass:"card-header ch-alt text-center"},[a("div",{staticClass:"picture-circle picture-circle-xs",style:"background-image:url('"+e.schedule.company.avatar+"')"}),e._v(" "),a("h4",{staticClass:"f-300 m-b-10"},[e._v(e._s(e.company.name))]),e._v(" "),a("span",{staticClass:"f-300"},[e._v(e._s(e.company.email?e.company.email:"E-mail não informado"))])]),e._v(" "),a("div",{staticClass:"card-body card-padding text-center"},[a("h5",{staticClass:"f-700"},[e._v("Detalhes do agendamento")]),e._v(" "),a("div",{staticClass:"row row-client-content"},[a("div",{staticClass:"col-md-6 col-xs-6"},[a("div",{staticClass:"border-inside-card"},[a("span",{staticClass:"f-300 f-12"},[e._v("Status")]),e._v(" "),a("br"),e._v(" "),e.schedule.is_fake?a("span",{staticClass:"label label-info f-16 p-5 f-300 m-t-5"},[e._v("\n                                    Bloqueado\n                                ")]):e._e(),e._v(" "),e.schedule.is_confirmed||e.schedule.is_canceled||e.schedule.is_fake?e._e():a("span",{staticClass:"label label-default f-16 p-5 p-l-10 p-r-10 f-400 m-t-5"},[e._v("\n                                    Aguardando\n                                ")]),e._v(" "),!e.schedule.is_confirmed||e.schedule.is_canceled||e.schedule.is_fake?e._e():a("span",{staticClass:"label label-success f-16 p-5 p-l-10 p-r-10 f-400 m-t-5"},[e._v("\n                                    Confirmado\n                                ")]),e._v(" "),e.schedule.is_confirmed||!e.schedule.is_canceled||e.schedule.is_fake?e._e():a("span",{staticClass:"label label-danger f-16 p-5 p-l-10 p-r-10 f-400 m-t-5"},[e._v("\n                                    Cancelado\n                                ")])])]),e._v(" "),a("div",{staticClass:"col-md-6 col-xs-6"},[a("div",{staticClass:"border-inside-card"},[a("span",{staticClass:"f-300 f-12"},[e._v("Remarcado")]),e._v(" "),a("h4",{staticClass:"m-t-5 m-b-0"},[a("span",[e._v("\n                                        "+e._s(e.schedule.is_rescheduled?"Sim":"Não")+"\n                                    ")])])])])]),e._v(" "),a("div",{staticClass:"row row-client-content"},[a("div",{staticClass:"col-md-6 col-xs-6"},[a("div",{staticClass:"border-inside-card"},[a("span",{staticClass:"f-300 f-12"},[e._v(e._s(e.schedule.is_rescheduled?"Data remarcada":"Data"))]),e._v(" "),a("h4",{staticClass:"m-t-5 m-b-0"},[e._v(e._s(e.schedule.date))])])]),e._v(" "),a("div",{staticClass:"col-md-6 col-xs-6"},[a("div",{staticClass:"border-inside-card"},[a("span",{staticClass:"f-300 f-12"},[e._v("Horário")]),e._v(" "),a("h4",{staticClass:"m-t-5 m-b-0"},[e._v(e._s(e.schedule.time))])])])]),e._v(" "),e.schedule.is_confirmed?a("div",{staticClass:"row m-t-20"},[a("span",{staticClass:"f-300 m-t-30 f-success"},[e._v("\n                            Este agendamento foi confirmado por "),a("strong",[e._v(e._s(e.schedule.confirmed_by))]),e._v("\n                            em: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.confirmed_at,"DD/MM/YYYY")))]),e._v("\n                            às: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.confirmed_at,"HH:mm:ss")))])])]):e._e(),e._v(" "),e.schedule.is_rescheduled?a("div",{staticClass:"m-t-20"},[a("span",{staticClass:"f-300 m-t-30 f-info"},[e._v("\n\n                            Este agendamento foi remarcado por "),a("strong",[e._v(e._s(e.schedule.reschedule_by))]),e._v("\n\n                            em: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.reschedule_at,"DD/MM/YYYY")))]),e._v("\n                            às: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.reschedule_at,"HH:mm:ss")))])])]):e._e(),e._v(" "),e.schedule.is_canceled?a("div",{staticClass:"m-t-10"},[a("span",{staticClass:"f-300 m-t-30 f-danger"},[e._v("\n                            Este agendamento foi cancelado por "+e._s(e.schedule.canceled_by)+"\n                            em: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.canceled_at,"DD/MM/YYYY")))]),e._v("\n                            às: "),a("strong",[e._v(e._s(e._f("moment")(e.schedule.canceled_at,"DD:mm:ss")))])])]):e._e()])])],1),e._v(" "),e.schedule.professional?a("div",{staticClass:"container"},[a("h3",{staticClass:"f-300 text-center m-t-0 m-b-30"},[e._v("Profissional")]),e._v(" "),e.placeholder.professional?a("card-placeholder",{attrs:{circleImage:!0,onlyHeader:!0}}):e._e(),e._v(" "),e.placeholder.professional?e._e():a("div",{staticClass:"card"},[a("div",{staticClass:"card-header ch-alt text-center"},[a("div",{staticClass:"picture-circle picture-circle-xs",style:"background-image:url('"+e.schedule.professional.avatar+"')"}),e._v(" "),a("h4",{staticClass:"f-300 m-b-0"},[e._v(e._s(e.schedule.professional.full_name))])])])],1):e._e(),e._v(" "),e.schedule.professional?e._e():a("div",{staticClass:"container"},[a("h3",{staticClass:"f-300 text-center m-t-0 m-b-30"},[e._v("Especialidade")]),e._v(" "),e.placeholder.category?a("card-placeholder",{attrs:{circleImage:!0,onlyHeader:!0}}):e._e(),e._v(" "),e.placeholder.category||e.schedule.professional?e._e():a("div",{staticClass:"card"},[a("div",{staticClass:"card-header ch-alt text-center"},[a("div",{staticClass:"picture-circle picture-circle-xs",style:"background-image:url('"+e.schedule.category.avatar+"')"}),e._v(" "),a("h4",{staticClass:"f-300 m-b-0"},[e._v(e._s(e.schedule.category.name))])])])],1),e._v(" "),a("div",{staticClass:"container"},[a("h3",{staticClass:"f-300 text-center m-t-0 m-b-30"},[e._v("Plano")]),e._v(" "),e.placeholder.plan?a("card-placeholder",{attrs:{onlyHeader:!0,onlyHeaderOpened:!0,onlyHeaderNoImage:!0}}):e._e(),e._v(" "),e.placeholder.plan?e._e():a("div",{staticClass:"card"},[a("div",{staticClass:"card-header ch-alt text-center"},[a("h4",{staticClass:"f-300 m-b-10"},[e._v(e._s(e.schedule.subscription.plan.name))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.schedule.subscription.is_active,expression:"schedule.subscription.is_active"}],staticClass:"label label-success f-16 p-5 f-300"},[e._v("Ativo")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.schedule.subscription.is_active,expression:"!schedule.subscription.is_active"}],staticClass:"label label-danger f-16 p-5 f-300"},[e._v("Inativo")])]),e._v(" "),a("div",{staticClass:"card-body card-padding text-center"},[a("h4",{staticClass:"m-t-0 m-b-20 f-300"},[e._v("Período")]),e._v(" "),a("span",{staticClass:"f-300"},[a("strong",{staticClass:"m-r-5"},[e._v("Começou em:")]),e._v(e._s(e.schedule.subscription.start_at)+"\n                    ")]),e._v(" "),a("hr"),e._v(" "),a("span",{staticClass:"f-300"},[a("strong",{staticClass:"m-r-5"},[e._v("Acaba em:")]),e._v("\n                        "+e._s(e.schedule.subscription.expire_at)+"\n                    ")])])])],1)],1),e._v(" "),e.interactions.rescheduler?a("div",{staticClass:"modal",attrs:{id:"modal-calendar",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true","aria-label":"Close"},on:{click:function(t){t.preventDefault(),e.cancelReschedule(t)}}},[e._m(0)]),e._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v("Agenda")])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("p",[e._v("Selecione o novo dia para remarcar o agendamento do dia "),a("strong",[e._v(e._s(e.old_schedule_data.date))])]),e._v(" "),e._m(1),e._v(" "),a("calendar",{attrs:{schedules:e.schedules},on:{"slot-selected":e.handleSlotDay,"update:schedules":function(t){e.schedules=t},"month-changed":e.getSchedules}})],1),e._v(" "),a("div",{staticClass:"modal-footer borderless"},[a("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"},on:{click:function(t){t.preventDefault(),e.cancelReschedule(t)}}},[e._v("Fechar")])])])])]):e._e(),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modal-reschedule",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true","aria-label":"Close"},on:{click:function(t){t.preventDefault(),e.cancelReschedule(t)}}},[e._m(2)]),e._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v("Selecionar horário para "+e._s(e.reschedule_data.date))])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("fieldset",e._l(e.slot_workdays,function(t){return a("div",[a("div",{staticClass:"col-sm-6"},[t.professional?a("div",[a("h3",[e._v(" "+e._s(t.professional.full_name))]),e._v(" "),t.slots.length?e._e():a("span",[e._v("Este profissional não possui horários para o dia selecionado.")]),e._v(" "),t.slots.length?a("span",[e._v("Horários disponíveis")]):e._e(),a("br"),e._v(" "),e._l(t.slots,function(n){return a("button",{staticClass:"btn btn-block btn-sm m-b-10",class:{"selected-slot":e.selectedSlot===n,"btn-danger":n.is_unavaiable,"btn-success":!n.is_unavaiable},attrs:{disabled:e.handleSameSlot(n,t.professional.id)},on:{click:function(a){a.preventDefault(),e.setSelectedSlot(n,t.professional.id)}}},[e.handleSameSlot(n,t.professional.id)?e._e():a("span",[e._v(e._s(n.init)+" "),a("span",{staticClass:"badge pull-right"},[e._v(e._s(n.schedules.length))])]),e._v(" "),e.handleSameSlot(n,t.professional.id)?a("span",[e._v("Horário atual ("+e._s(n.init)+") "),a("span",{staticClass:"badge pull-right"},[e._v(e._s(n.schedules.length))])]):e._e()])})],2):e._e(),e._v(" "),t.category?a("div",[a("h3",[e._v(" "+e._s(t.category.name))]),e._v(" "),t.slots.length?e._e():a("span",[e._v("Este profissional não possui horários para o dia selecionado.")]),e._v(" "),t.slots.length?a("span",[e._v("Horários disponíveis")]):e._e(),a("br"),e._v(" "),e._l(t.slots,function(n){return a("button",{staticClass:"btn btn-block btn-sm m-b-10",class:{"selected-slot":e.selectedSlot===n,"btn-danger":n.is_unavaiable,"btn-success":!n.is_unavaiable},attrs:{disabled:e.handleSameSlotCategory(n,t.category.id)},on:{click:function(t){t.preventDefault(),e.setSelectedSlot(n,null)}}},[e.handleSameSlotCategory(n,t.category.id)?e._e():a("span",[e._v(e._s(n.init)+" "),a("span",{staticClass:"badge pull-right"},[e._v(e._s(n.schedules.length))])]),e._v(" "),e.handleSameSlotCategory(n,t.category.id)?a("span",[e._v("Horário atual ("+e._s(n.init)+") "),a("span",{staticClass:"badge pull-right"},[e._v(e._s(n.schedules.length))])]):e._e()])})],2):e._e()])])}))]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal"},on:{click:function(t){t.preventDefault(),e.cancelReschedule(t)}}},[e._v("Fechar")]),e._v(" "),a("button",{staticClass:"btn btn-info",attrs:{disabled:!e.selectedSlot},on:{click:function(t){t.preventDefault(),e.saveReschedule(t)}}},[e._v("Remarcar")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert alert-info"},[a("strong",[e._v("Atenção:")]),e._v(" você pode remarcar um agendamento apenas uma vez, caso necessite remarcar novamente entre em contato com o profissional ou empresa.")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-times"})])}]}},384:function(e,t,a){a(1304);var n=a(2)(a(1013),a(1490),"data-v-78e9fbae",null);e.exports=n.exports},868:function(e,t){function a(){}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}a.maxFromBits=function(e){return Math.pow(2,e)},a.limitUI04=a.maxFromBits(4),a.limitUI06=a.maxFromBits(6),a.limitUI08=a.maxFromBits(8),a.limitUI12=a.maxFromBits(12),a.limitUI14=a.maxFromBits(14),a.limitUI16=a.maxFromBits(16),a.limitUI32=a.maxFromBits(32),a.limitUI40=a.maxFromBits(40),a.limitUI48=a.maxFromBits(48),a.randomUI04=function(){return n(0,a.limitUI04-1)},a.randomUI06=function(){return n(0,a.limitUI06-1)},a.randomUI08=function(){return n(0,a.limitUI08-1)},a.randomUI12=function(){return n(0,a.limitUI12-1)},a.randomUI14=function(){return n(0,a.limitUI14-1)},a.randomUI16=function(){return n(0,a.limitUI16-1)},a.randomUI32=function(){return n(0,a.limitUI32-1)},a.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},a.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},a.paddedString=function(e,t,a){e=String(e),a=a||"0";for(var n=t-e.length;n>0;n>>>=1,a+=a)1&n&&(e=a+e);return e},a.prototype.fromParts=function(e,t,n,s,r,o){return this.version=n>>12&15,this.hex=a.paddedString(e.toString(16),8)+"-"+a.paddedString(t.toString(16),4)+"-"+a.paddedString(n.toString(16),4)+"-"+a.paddedString(s.toString(16),2)+a.paddedString(r.toString(16),2)+"-"+a.paddedString(o.toString(16),12),this},a.prototype.toString=function(){return this.hex},a.prototype.toURN=function(){return"urn:uuid:"+this.hex},a.prototype.toBytes=function(){for(var e=this.hex.split("-"),t=[],a=0,n=0;n<e.length;n++)for(var s=0;s<e[n].length;s+=2)t[a++]=parseInt(e[n].substr(s,2),16);return t},a.prototype.equals=function(e){return e instanceof UUID&&this.hex===e.hex},a.getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),a=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&a,hi:a>>>16,timestamp:t}},a._create4=function(){return(new a).fromParts(a.randomUI32(),a.randomUI16(),16384|a.randomUI12(),128|a.randomUI06(),a.randomUI08(),a.randomUI48())},a._create1=function(){var e=(new Date).getTime(),t=a.randomUI14(),n=1099511627776*(1|a.randomUI08())+a.randomUI40(),s=a.randomUI04(),r=0;e!=r?(e<r&&t++,r=e,s=a.randomUI04()):Math.random()<.25&&s<9984?s+=1+a.randomUI04():t++;var o=a.getTimeFieldValues(r),i=o.low+s,c=4095&o.hi|4096;t&=16383;var l=t>>>8|128,d=255&t;return(new a).fromParts(i,o.mid,c,l,d,n)},a.create=function(e){return e=e||4,this["_create"+e]()},a.fromTime=function(e,t){t=t||!1;var n=a.getTimeFieldValues(e),s=n.low,r=4095&n.hi|4096;return!1===t?(new a).fromParts(s,n.mid,r,0,0,0):(new a).fromParts(s,n.mid,r,128|a.limitUI06,a.limitUI08-1,a.limitUI48-1)},a.firstFromTime=function(e){return a.fromTime(e,!1)},a.lastFromTime=function(e){return a.fromTime(e,!0)},a.fromURN=function(e){var t;return(t=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(e))?(new a).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},a.fromBytes=function(e){if(e.length<5)return null;for(var t="",n=0,s=[4,2,2,2,6],r=0;r<s.length;r++){for(var o=0;o<s[r];o++){var i=e[n++].toString(16);1==i.length&&(i="0"+i),t+=i}6!==s[r]&&(t+="-")}return a.fromURN(t)},a.fromBinary=function(e){for(var t=[],n=0;n<e.length;n++)if(t[n]=e.charCodeAt(n),t[n]>255||t[n]<0)throw new Error("Unexpected byte in binary data.");return a.fromBytes(t)},a.new=function(){return this.create(4)},a.newTS=function(){return this.create(1)},e.exports=a},869:function(e,t,a){"use strict";function n(){return{id:o.create().toString(),name:"",last_name:"",email:"",slug:"",avatar:"",password:"",remember_token:"",created_at:"",updated_at:"",full_name:"",photos:[],companies:[],certifications:[],current_rating:0,total_rating:0,last_ratings:[],calendar_settings:{slot_duration:60,is_active:!0,workdays:[],unavailable_dates_range:[]}}}function s(){return{name:"",last_name:"",email:"",phone:"",bday:"",categories:[]}}t.a=n,t.c=s;var r=a(871),o=a(868);t.b={id:o.create().toString(),name:"John",last_name:"Doe",email:"john@doe.com",slug:"",avatar:"https://isaudavel-development.s3.amazonaws.com/assets/isaudavel_holder850.png",functions:["Massagista"],password:"",remember_token:"",created_at:"",updated_at:"",full_name:"John Doe",current_rating:4,total_rating:0,categories:r.a,companies:[],photos:[],professional_workdays:[],certifications:[],last_ratings:[]}},870:function(e,t,a){"use strict";function n(){return{name:"Pilates",slug:"Pilates",is_active:!0,calendar_settings:{is_professional_scheduled:!1,wordkays:[]},professionals:[a.i(s.a)(),a.i(s.a)()]}}t.a=n;var s=a(869)},871:function(e,t,a){"use strict";a(870);t.a=[{name:"Pilates",slug:"pilates"},{name:"Personal Trainer",slug:"personal"},{name:"Nutrição",slug:"nutricao"},{name:"Fisioterapia",slug:"fisioterapia"},{name:"Massagem",slug:"massagem"},{name:"Saúde",slug:"saude"}]},872:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,a){"use strict";e.exports=a(15)()?Symbol:a(17)},function(t,a){t.exports=e},function(e,t,a){"use strict";var n,s=a(3),r=a(10),o=a(6),i=a(12);n=e.exports=function(e,t){var a,n,o,c,l;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(a=o=!0,n=!1):(a=i.call(e,"c"),n=i.call(e,"e"),o=i.call(e,"w")),l={value:t,configurable:a,enumerable:n,writable:o},c?s(r(c),l):l},n.gs=function(e,t,a){var n,c,l,d;return"string"!=typeof e?(l=a,a=t,t=e,e=null):l=arguments[3],null==t?t=void 0:o(t)?null==a?a=void 0:o(a)||(l=a,a=void 0):(l=t,t=a=void 0),null==e?(n=!0,c=!1):(n=i.call(e,"c"),c=i.call(e,"e")),d={get:t,set:a,configurable:n,enumerable:c},l?s(r(l),d):d}},function(e,t,a){"use strict";e.exports=a(4)()?Object.assign:a(5)},function(e,t,a){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,a){"use strict";var n=a(7),s=a(11),r=Math.max;e.exports=function(e,t){var a,o,i,c=r(arguments.length,2);for(e=Object(s(e)),i=function(n){try{e[n]=t[n]}catch(e){a||(a=e)}},o=1;o<c;++o)t=arguments[o],n(t).forEach(i);if(void 0!==a)throw a;return e}},function(e,t,a){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,a){"use strict";e.exports=a(8)()?Object.keys:a(9)},function(e,t,a){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,a){"use strict";var n=Object.keys;e.exports=function(e){return n(null==e?e:Object(e))}},function(e,t,a){"use strict";var n=Array.prototype.forEach,s=Object.create,r=function(e,t){var a;for(a in e)t[a]=e[a]};e.exports=function(e){var t=s(null);return n.call(arguments,function(e){null!=e&&r(Object(e),t)}),t}},function(e,t,a){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},function(e,t,a){"use strict";e.exports=a(13)()?String.prototype.contains:a(14)},function(e,t,a){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},function(e,t,a){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,a){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&(!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag])}},function(e,t,a){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,a){"use strict";var n,s,r,o,i=a(2),c=a(18),l=Object.create,d=Object.defineProperties,u=Object.defineProperty,f=Object.prototype,h=l(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),o=!0}catch(e){}}var m=function(){var e=l(null);return function(t){for(var a,n,s=0;e[t+(s||"")];)++s;return t+=s||"",e[t]=!0,a="@@"+t,u(f,a,i.gs(null,function(e){n||(n=!0,u(this,a,i(e)),n=!1)})),a}}();r=function(e){if(this instanceof r)throw new TypeError("TypeError: Symbol is not a constructor");return s(e)},e.exports=s=function e(t){var a;if(this instanceof e)throw new TypeError("TypeError: Symbol is not a constructor");return o?n(t):(a=l(r.prototype),t=void 0===t?"":String(t),d(a,{__description__:i("",t),__name__:i("",m(t))}))},d(s,{for:i(function(e){return h[e]?h[e]:h[e]=s(String(e))}),keyFor:i(function(e){var t;c(e);for(t in h)if(h[t]===e)return t}),hasInstance:i("",n&&n.hasInstance||s("hasInstance")),isConcatSpreadable:i("",n&&n.isConcatSpreadable||s("isConcatSpreadable")),iterator:i("",n&&n.iterator||s("iterator")),match:i("",n&&n.match||s("match")),replace:i("",n&&n.replace||s("replace")),search:i("",n&&n.search||s("search")),species:i("",n&&n.species||s("species")),split:i("",n&&n.split||s("split")),toPrimitive:i("",n&&n.toPrimitive||s("toPrimitive")),toStringTag:i("",n&&n.toStringTag||s("toStringTag")),unscopables:i("",n&&n.unscopables||s("unscopables"))}),d(r.prototype,{constructor:i(s),toString:i("",function(){return this.__name__})}),d(s.prototype,{toString:i(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:i(function(){return c(this)})}),u(s.prototype,s.toPrimitive,i("",function(){var e=c(this);return"symbol"==typeof e?e:e.toString()})),u(s.prototype,s.toStringTag,i("c","Symbol")),u(r.prototype,s.toStringTag,i("c",s.prototype[s.toStringTag])),u(r.prototype,s.toPrimitive,i("c",s.prototype[s.toPrimitive]))},function(e,t,a){"use strict";var n=a(16);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e.range=function(t,a){var n=this;return m.hasOwnProperty(t)?new p(e(n).startOf(t),e(n).endOf(t)):new p(t,a)},e.fn.range=e.range,e.range.constructor=p,e.fn.within=function(e){return e.contains(this.toDate())},e}Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var i=function(){function e(e,t){var a=[],n=!0,s=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){s=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(s)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.extendMoment=o;var d=a(1),u=n(d),f=a(0),h=n(f),m={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},p=t.DateRange=function(){function e(t,a){r(this,e);var n=t,s=a;if(1===arguments.length||void 0===a)if("object"===(void 0===t?"undefined":c(t))&&2===t.length){var o=i(t,2);n=o[0],s=o[1]}else if("string"==typeof t){var l=t.split("/"),d=i(l,2);n=d[0],s=d[1]}this.start=null===n?(0,u.default)(-864e13):(0,u.default)(n),this.end=null===s?(0,u.default)(864e13):(0,u.default)(s)}return l(e,[{key:"adjacent",value:function(e){var t=this.start.isSame(e.end),a=this.end.isSame(e.start);return t&&e.start.valueOf()<=this.start.valueOf()||a&&e.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(e){return this.overlaps(e)?new this.constructor(u.default.min(this.start,e.start),u.default.max(this.end,e.end)):null}},{key:"by",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},a=this;return s({},h.default.iterator,function(){var n=t.exclusive||!1,s=t.step||1,r=Math.abs(a.start.diff(a.end,e))/s,o=0;return{next:function(){var t=a.start.clone().add(o*s,e),i=n?!(o<r):!(o<=r);return o++,{done:i,value:i?void 0:t}}}})}},{key:"byRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},a=this,n=t.step||1,r=this.valueOf()/e.valueOf()/n,o=t.exclusive||!1,i=Math.floor(r),c=0;return s({},h.default.iterator,function(){return i===1/0?{done:!0}:{next:function(){var t=(0,u.default)(a.start.valueOf()+e.valueOf()*c*n),s=i===r&&o?!(c<i):!(c<=i);return c++,{done:s,value:s?void 0:t}}}})}},{key:"center",value:function(){var e=this.start.valueOf()+this.diff()/2;return(0,u.default)(e)}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"contains",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1},n=this.start.valueOf(),s=this.end.valueOf(),r=t.valueOf(),o=t.valueOf();t instanceof e&&(r=t.start.valueOf(),o=t.end.valueOf());var i=n<r||n<=r&&!a.exclusive,c=s>o||s>=o&&!a.exclusive;return i&&c}},{key:"diff",value:function(e,t){return this.end.diff(this.start,e,t)}},{key:"duration",value:function(e,t){return this.diff(e,t)}},{key:"intersect",value:function(e){var t=this.start.valueOf(),a=this.end.valueOf(),n=e.start.valueOf(),s=e.end.valueOf();return t<=n&&n<a&&a<s?new this.constructor(n,a):n<t&&t<s&&s<=a?new this.constructor(t,s):n<t&&t<=a&&a<s?this:t<=n&&n<=s&&s<=a?e:null}},{key:"isEqual",value:function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)}},{key:"isSame",value:function(e){return this.isEqual(e)}},{key:"overlaps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},a=null!==this.intersect(e);return t.adjacent&&!a?this.adjacent(e):a}},{key:"reverseBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},a=this;return s({},h.default.iterator,function(){var n=t.exclusive||!1,s=t.step||1,r=Math.abs(a.start.diff(a.end,e))/s,o=0;return{next:function(){var t=a.end.clone().subtract(o*s,e),i=n?!(o<r):!(o<=r);return o++,{done:i,value:i?void 0:t}}}})}},{key:"reverseByRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},a=this,n=t.step||1,r=this.valueOf()/e.valueOf()/n,o=t.exclusive||!1,i=Math.floor(r),c=0;return s({},h.default.iterator,function(){return i===1/0?{done:!0}:{next:function(){var t=(0,u.default)(a.end.valueOf()-e.valueOf()*c*n),s=i===r&&o?!(c<i):!(c<=i);return c++,{done:s,value:s?void 0:t}}}})}},{key:"subtract",value:function(e){var t=this.start.valueOf(),a=this.end.valueOf(),n=e.start.valueOf(),s=e.end.valueOf();return null===this.intersect(e)?[this]:n<=t&&t<a&&a<=s?[]:n<=t&&t<s&&s<a?[new this.constructor(s,a)]:t<n&&n<a&&a<=s?[new this.constructor(t,n)]:t<n&&n<s&&s<a?[new this.constructor(t,n),new this.constructor(s,a)]:t<n&&n<a&&s<a?[new this.constructor(t,n),new this.constructor(n,a)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),e}()}])})},873:function(e,t,a){"use strict";function n(){return{id:"",avatar:"",name:"",last_name:"",email:"",slug:"",password:"",bday:"",phone:"",target:"",current_xp:0,total_xp:0,level:0,created_at:"",updated_at:"",full_name:"",photos:[],trainnings:[],evaluations:[],restrictions:[],exams:[],diets:[],subscriptions:[],company_client_observations:[]}}function s(){return{name:"",last_name:"",email:"",phone:"",bday:""}}t.a=n,t.b=s;var r,o=a(24),i=a.n(o);t.c=(r={id:"c1",avatar:"https://isaudavel-development.s3.amazonaws.com/assets/isaudavel_holder850.png",name:"André",last_name:"Brandão",full_name:"André Brandão",email:"",slug:"",password:"",bday:"",phone:"",target:"",current_xp:0,total_xp:0,level:0,created_at:"",updated_at:""},i()(r,"full_name",""),i()(r,"photos",[]),i()(r,"trainnings",[]),i()(r,"evaluations",[]),i()(r,"restrictions",[]),i()(r,"exams",[]),i()(r,"diets",[]),i()(r,"subscriptions",[]),i()(r,"company_client_observations",[]),r)},874:function(e,t,a){"use strict";function n(){return{id:s.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!1,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:0,lng:0,city:"",state:"",current_rating:0,clients:[],photos:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}}t.a=n;var s=(a(869),a(871),a(877),a(870),a(868));t.b={id:s.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!0,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:-19.8725915,lng:-43.9710057,city:"",state:"",current_rating:4,photos:[],clients:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}},877:function(e,t,a){"use strict"},878:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),s=a.n(n),r=a(0),o=a.n(r),i=a(872),c=(a.n(i),a(19)),l=a.i(i.extendMoment)(o.a);t.default={name:"calendar",props:{schedules:{type:Array,twoWay:!1}},data:function(){return{week_days:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],month_days:[],current_month:null,calendarLoaded:!1}},watch:{schedules:function(e,t){var a=this;e.length&&a.handleSchedules()}},computed:s()({},a.i(c.b)(["currentUser","currentCompany","selectedCategory"]),{today:function(){return l()}}),mounted:function(){var e=this;this.current_month=l("05:00:00","HH:mm:ss"),this.$nextTick(function(){e.getMonthDays()})},methods:{getMonthDays:function(){var e=this;this.calendarLoaded=!1;var t=l(this.current_month).startOf("month").day();t=t>0?l(this.current_month).startOf("month").subtract(t,"days"):l(this.current_month).startOf("month").add(5,"hours");var a=l(this.current_month).endOf("month").day();a=a>0?l(this.current_month).endOf("month").add(6-a,"days"):l(this.current_month).endOf("month"),e.month_days=[];for(var n=t;n.isBefore(a);n.add(1,"days"))e.month_days.push({day:n.format("DD/MM"),date:n.clone(),schedules_count:0,is_unavaiable:!1});setTimeout(function(){e.$emit("month-changed",{start:e.month_days[0].date,end:e.month_days[e.month_days.length-1].date}),e.calendarLoaded=!0},100)},handlePrevMonth:function(){this.current_month.subtract(1,"month"),this.month_days=[],this.getMonthDays()},handleNextMonth:function(){this.current_month.add(1,"month"),this.month_days=[],this.getMonthDays()},handleSlotDay:function(e,t){this.$emit("slot-selected",t)},handleSchedules:function(){var e=this;e.month_days.map(function(t){t.schedules_count=0,t.is_unavaiable=!1,t.is_professional_scheduled=!1,t.category_professionals=0,t.unavaiable_professionals=[],e.schedules.map(function(a){if(a.is_professional_scheduled&&"professional"==e.currentUser.role){a.unavailable_dates_range.map(function(e){var n=l().range(e.from,e.to);t.is_unavaiable=t.is_unavaiable?t.is_unavaiable:n.contains(t.date),t.unavaiable_professionals.push(a.professional)});var n=0;_.isEmpty(e.currentCompany)||e.currentCompany.professionals.map(function(t){t.categories.map(function(t){t.id===e.selectedCategory.id&&n++})}),t.category_professionals=n}t.schedules_count+=a.schedules.filter(function(e){return e.date===t.date.format("DD/MM/YYYY")}).length,t.unavaiable_professionals=_.uniq(t.unavaiable_professionals).length,t.is_professional_scheduled=a.is_professional_scheduled})})}}}},879:function(e,t,a){t=e.exports=a(866)(),t.push([e.i,".btn-transparent[data-v-5359a83d]{color:#fff!important}.col-wp-calendar-header[data-v-5359a83d]{background-color:rgba(51,51,51,.15);font-weight:600;font-weight:400}.col-wp-calendar-header[data-v-5359a83d],.col-wp-calendar[data-v-5359a83d]{width:14.2857%;padding:13px 1px 1px;border:1px solid #fff;text-align:center;vertical-align:center;height:50px;color:#383938}.col-wp-calendar[data-v-5359a83d]{background-color:#f4f5f5;font-weight:300}.col-wp-calendar[data-v-5359a83d]:hover{background-color:#88c657;cursor:pointer;color:#fff}.col-wp-calendar.not-current-month[data-v-5359a83d]{color:rgba(56,57,56,.3)}.col-wp-calendar.today[data-v-5359a83d]{background-color:#71c158;color:#fff;font-weight:700}.calendar-header[data-v-5359a83d]{background:linear-gradient(180deg,#6ec058 0,#88c657);display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;border:1px solid #fff;border-radius:4px 4px 0 0}.badge-calendar-wp[data-v-5359a83d]{display:block;width:18px;height:17px;position:absolute;top:2px;right:5px;color:#fff;padding:3px;background-color:#4a5464;font-size:9px;border-radius:50%}.unavaiable[data-v-5359a83d]{background:#f5404b!important;color:#fff}","",{version:3,sources:["/Users/igortrindade/Code/isaudavel-front/src/components/calendar.vue"],names:[],mappings:"AACA,kCAAmC,oBAAuB,CACzD,AACD,yCAEI,oCAAwC,AAMxC,gBAAiB,AAEjB,eAAiB,CACpB,AACD,2EAXI,eAAgB,AAEhB,qBAA0B,AAC1B,sBAAwB,AACxB,kBAAmB,AACnB,sBAAuB,AACvB,YAAa,AAEb,aAAe,CAalB,AAVD,kCAEI,yBAA0B,AAO1B,eAAiB,CACpB,AACD,wCACI,yBAA0B,AAC1B,eAAgB,AAChB,UAAY,CACf,AAED,oDACI,uBAA4B,CAC/B,AAED,wCACI,yBAA2B,AAC3B,WAAY,AACZ,eAAiB,CACpB,AACD,kCACI,qDAAiE,AACjE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,YAAa,AACb,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,WAAY,AACZ,sBAAuB,AACvB,yBAA2B,CAC9B,AACD,oCACI,cAAe,AACf,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,WAAa,AACb,YAAa,AACb,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AACD,6BACI,6BAA+B,AAC/B,UAAY,CACf",file:"calendar.vue",sourcesContent:["\n.btn-transparent[data-v-5359a83d]{ color: #fff !important;\n}\n.col-wp-calendar-header[data-v-5359a83d]{\n    width: 14.2857%;\n    background-color: rgba(51, 51, 51, .15);\n    padding: 13px 1px 1px 1px;\n    border: 1px solid white;\n    text-align: center;\n    vertical-align: center;\n    height: 50px;\n    font-weight: 600;\n    color: #383938;\n    font-weight: 400;\n}\n.col-wp-calendar[data-v-5359a83d]{\n    width: 14.2857%;\n    background-color: #f4f5f5;\n    padding: 13px 1px 1px 1px;\n    border: 1px solid white;\n    text-align: center;\n    vertical-align: center;\n    height: 50px;\n    color: #383938;\n    font-weight: 300;\n}\n.col-wp-calendar[data-v-5359a83d]:hover{\n    background-color: #88c657;\n    cursor: pointer;\n    color: #fff;\n}\n/* Dias que não fazem parte do current_month */\n.col-wp-calendar.not-current-month[data-v-5359a83d] {\n    color: rgba(56, 57, 56, .3);\n}\n/* Hoje */\n.col-wp-calendar.today[data-v-5359a83d] {\n    background-color: #71c158 ;\n    color: #fff;\n    font-weight: 700;\n}\n.calendar-header[data-v-5359a83d] {\n    background: linear-gradient(to bottom, #6EC058 0%, #88C657 100%);\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    height: 50px;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    color: #fff;\n    border: 1px solid #fff;\n    border-radius: 4px 4px 0 0;\n}\n.badge-calendar-wp[data-v-5359a83d] {\n    display: block;\n    width: 18px;\n    height: 17px;\n    position: absolute;\n    top: 2px;\n    right: 5px;\n    color: white;\n    padding: 3px;\n    background-color: #4A5464;\n    font-size: 9px;\n    border-radius: 50%;\n}\n.unavaiable[data-v-5359a83d]{\n    background: #F5404B !important;\n    color: #fff;\n}\n\n"],sourceRoot:""}])},880:function(e,t,a){var n=a(879);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(867)("eb3e4604",n,!0)},881:function(e,t,a){a(880);var n=a(2)(a(878),a(882),"data-v-5359a83d",null);e.exports=n.exports},882:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header ch-alt m-b-10"},[e.current_month?a("h2",{staticClass:"f-400 text-center"},[e._v(e._s(e._f("moment")(e.current_month,"YYYY")))]):e._e()]),e._v(" "),a("div",{staticClass:"card-body clearfix"},[a("div",{staticClass:"calendar-header clearfix"},[a("div",{staticClass:"col-xs-6"},[e.current_month?a("h3",{staticClass:"title m-b-20 m-l-5 f-300"},[e._v(e._s(e._f("moment")(e.current_month,"MMMM")))]):e._e()]),e._v(" "),a("div",{staticClass:"col-xs-6"},[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-transparent f-24",attrs:{title:"Semana Anterior"},on:{click:function(t){t.preventDefault(),e.handlePrevMonth(t)}}},[a("i",{staticClass:"ion-ios-arrow-thin-left"})]),e._v(" "),a("button",{staticClass:"btn btn-transparent f-24",attrs:{title:"Proxima Semana"},on:{click:function(t){t.preventDefault(),e.handleNextMonth(t)}}},[a("i",{staticClass:"ion-ios-arrow-thin-right"})])])])]),e._v(" "),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-md-12 col-xs-12 col-lg-12"},[e._l(e.week_days,function(t,n){return a("div",{staticClass:"col-wp-calendar-header col-xs-12"},[a("span",{attrs:{"x-apple-data-detectors":"false"}},[e._v(e._s(t))])])}),e._v(" "),e._l(e.month_days,function(t,n){return a("div",{staticClass:"col-wp-calendar col-xs-12",class:{unavaiable:t.is_unavaiable&&t.category_professionals==t.unavaiable_professionals,"not-current-month":e.current_month.format("MM/YYYY")!==t.date.format("MM/YYYY"),today:e.today.format("DD/MM")===t.day&&e.today.format("MM/YYYY")===e.current_month.format("MM/YYYY")},attrs:{"x-apple-data-detectors":"false"},on:{click:function(a){e.handleSlotDay(n,t)}}},[a("span",{staticClass:"cursor-pointer",attrs:{"x-apple-data-detectors":"false"}},[e._v(e._s(e._f("moment")(t.date,"DD")))]),e._v(" "),t.schedules_count>0?a("span",{staticClass:"badge-calendar-wp"},[e._v(e._s(t.schedules_count))]):e._e()])})],2)])])])])])])},staticRenderFns:[]}},900:function(e,t,a){"use strict";function n(){return{id:"",company_id:"",professional_id:"",invoice_id:"",subscription_id:"",date:"",time:"",points_earned:0,confirmed_at:"",confirmed_by:"",reschedule_by:"",reschedule_at:"",created_at:"",updated_at:"",invoice:{subscription:{plan:{name:""},client:a.i(s.a)()}},professional:a.i(r.a)()}}t.a=n;var s=a(873),r=a(869)}});
//# sourceMappingURL=16.c600b56c1dd9bf3f7b33.js.map