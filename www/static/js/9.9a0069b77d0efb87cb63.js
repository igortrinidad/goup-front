webpackJsonp([9],{323:function(t,a,o){o(719);var e=o(3)(o(666),o(743),"data-v-615303bb",null);t.exports=e.exports},666:function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=o(78),n=o.n(e),s=o(685),i=o(49),r=o(51);a.default={name:"login",components:{mainHeader:o(50)},data:function(){return{interactions:{loginWithEmail:!1},login:{email:"",password:""}}},computed:{translations:function(){var t=localStorage.getItem("language");return"en"!==t&&t?"pt"===t?s.b:void 0:s.a}},mounted:function(){window.cordova&&openFB.init({appId:r.a,tokenStore:localStorage})},methods:n()({},o.i(i.a)(["authSetToken","authSetUser"]),{makeLogin:function(){var t=this;t.$http.post("/auth/login",t.login).then(function(a){t.authSetToken(a.data.token),t.authSetUser(a.data.user),t.$router.push(t.handleRedirect())}).catch(function(t){console.log(t)})},handleRedirect:function(){var t=this;return(t.$route.query.redirect_back?t.$route.query.redirect_back:t.$route.query.redirect)||"/"},facebookLogin:function(){var t=this;window.cordova&&openFB.login(function(a){"connected"===a.status?t.statusChangeCallback(a):(alert("Facebook login failed: "+a.error),localStorage.clear(),window.cordova&&window.cookies.clear())},{scope:"public_profile,email"}),window.cordova||FB.login(function(a){t.statusChangeCallback(a)},{scope:"public_profile,email"})},statusChangeCallback:function(t){var a=this;"connected"===t.status?a.getUserInfo(t.authResponse.accessToken):errorNotify("","É necessário fazer login para continuar.")},getUserInfo:function(t){var a=this;window.cordova&&openFB.api({path:"/v2.8/me",params:{access_token:t,fields:"id,name,first_name,last_name,email"},success:function(o){o.photo_url="https://graph.facebook.com/"+o.id+"/picture?type=normal",o.access_token=t,o.role="user",a.socialLogin(o)},error:a.errorHandler}),window.cordova||FB.api("/me",{fields:"name,first_name, last_name, email"},function(o){o.photo_url="https://graph.facebook.com/"+o.id+"/picture?type=normal",o.access_token=t,o.role="user",a.socialLogin(o)})},socialLogin:function(t){var a=this;localStorage.setItem("provider","facebook"),a.$http.post("/auth/social_login",t).then(function(t){a.authSetToken(t.data.access_token),a.authSetUser(t.data.user),successNotify("","Login efetuado com sucesso."),a.$router.push(a.handleRedirect(t.data.user.id))}).catch(function(t){errorNotify("Ops!","Erro ao efetuar login."),localStorage.clear(),window.cordova&&window.cookies.clear()})},errorHandler:function(t){errorNotify("",t.message),localStorage.clear(),window.cordova&&window.cookies.clear()}})}},685:function(t,a,o){"use strict";o.d(a,"a",function(){return e}),o.d(a,"b",function(){return n});var e={title:"Great to see you again!",login:"Login",loginEmail:"Login with e-mail",loginFacebook:"Login with Facebook",inputEmail:"Enter your e-mail",inputPassword:"Enter your password",acceptTerms:"Continuing you agree to our",terms:"Terms of Use",privacy:"Privacy policy",tourTitle:"Discover new places near you",likeLocal:"Slide up to enjoy and mark as a favorite",unlikeLocal:"Swipe down to skip location",friends:"Find peoples who also favored the same places as you",signup:"Don't have an account?",getStart:"Get started",forgotPassword:"Forgot your password?"},n={title:"Que bom ver você novamente!",login:"Entrar",loginEmail:"Entrar com e-mail",loginFacebook:"Entrar com Facebook",inputEmail:"Informe seu e-mail",inputPassword:"Informe sua senha",acceptTerms:"Ao continuar você concorda com nossos",terms:"Termos de Uso",privacy:"Política de Privacidade",tourTitle:"Descubra locais novos perto de você",likeLocal:"Deslize para cima para curtir e favoritar o local",unlikeLocal:"Deslize para baixo para ignorar o local",friends:"Encontre pessoas que também preferiram os mesmos lugares que você",signup:"Ainda não tem uma conta?",getStart:"cadastre-se",forgotPassword:"Esqueceu sua senha?"}},704:function(t,a,o){a=t.exports=o(657)(),a.push([t.i,'.logo[data-v-615303bb]{max-width:150px;margin:0 auto;display:block}.tour-title[data-v-615303bb]{height:65px}.main.login[data-v-615303bb]{background-color:#561f9f;background-image:url("https://s3.amazonaws.com/goup-assets/img/pattern-goup-transp.png");background-repeat:repeat;height:100vh;overflow:scroll}',"",{version:3,sources:["/Users/igortrindade/Code/goup-front/src/modules/general/auth/components/login.vue"],names:[],mappings:"AACA,uBACI,gBAAiB,AACjB,cAAe,AACf,aAAc,CACjB,AACD,6BACI,WAAa,CAChB,AACD,6BACI,yBAA0B,AAC1B,yFAA0F,AAC1F,yBAA0B,AAC1B,aAAc,AACd,eAAiB,CACpB",file:"login.vue",sourcesContent:['\n.logo[data-v-615303bb] {\n    max-width: 150px;\n    margin: 0 auto;\n    display: block\n}\n.tour-title[data-v-615303bb] {\n    height: 65px;\n}\n.main.login[data-v-615303bb] {\n    background-color: #561F9F;\n    background-image: url("https://s3.amazonaws.com/goup-assets/img/pattern-goup-transp.png");\n    background-repeat: repeat;\n    height: 100vh;\n    overflow: scroll;\n}\n'],sourceRoot:""}])},719:function(t,a,o){var e=o(704);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o(658)("766161c0",e,!0)},743:function(t,a,o){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("main-header",{attrs:{title:"Login",type:"back",cursor:!1}}),t._v(" "),e("div",{staticClass:"main login first-container"},[e("div",{staticClass:"container text-center"},[e("img",{staticClass:"logo",attrs:{src:o(320),alt:""}}),t._v(" "),e("h2",{staticClass:"f-300 m-b-30"},[t._v(t._s(t.translations.title))])]),t._v(" "),e("div",{staticClass:"container"},[t.interactions.loginWithEmail?t._e():e("div",[e("button",{staticClass:"btn btn-block btn-primary m-t-10",attrs:{type:"button"},on:{click:function(a){t.interactions.loginWithEmail=!0}}},[t._v("\n                    "+t._s(t.translations.loginEmail)+"\n                ")]),t._v(" "),e("button",{staticClass:"btn btn-block btn-facebook m-t-10",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.facebookLogin()}}},[e("i",{staticClass:"ion-social-facebook m-r-10"}),t._v(t._s(t.translations.loginFacebook)+"\n                ")])]),t._v(" "),t.interactions.loginWithEmail?e("div",[e("form",{staticClass:"m-t-30 text-center"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.translations.inputEmail},domProps:{value:t.login.email},on:{input:function(a){a.target.composing||(t.login.email=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:t.translations.inputPassword},domProps:{value:t.login.password},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13))return null;t.makeLogin(a)},input:function(a){a.target.composing||(t.login.password=a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button",disabled:!t.login.email||!t.login.password},on:{click:function(a){a.preventDefault(),t.makeLogin()}}},[t._v(t._s(t.translations.login))]),t._v(" "),e("button",{staticClass:"btn btn-block btn-facebook m-t-10",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.facebookLogin()}}},[e("i",{staticClass:"ion-social-facebook m-r-10"}),t._v(t._s(t.translations.loginFacebook)+"\n                    ")])])]):t._e()]),t._v(" "),e("div",{staticClass:"container text-center"},[e("div",{staticClass:"m-t-30"},[e("small",{staticClass:"f-300"},[e("router-link",{staticClass:"f-primary",attrs:{to:{name:"landing.reset-pass",params:{usertype:"user"}}}},[t._v(t._s(t.translations.forgotPassword))])],1)]),t._v(" "),e("div",{staticClass:"m-t-10"},[e("small",{staticClass:"f-300"},[t._v("\n                    "+t._s(t.translations.signup)+"\n                    "),e("router-link",{staticClass:"f-primary",attrs:{to:{name:"general.auth.signup"}}},[t._v(t._s(t.translations.getStart))])],1)]),t._v(" "),e("div",{staticClass:"m-t-10"},[e("small",{staticClass:"f-300"},[t._v("\n                    "+t._s(t.translations.acceptTerms)+"\n                    "),e("a",{staticClass:"f-primary",attrs:{href:"#"}},[t._v(t._s(t.translations.terms))]),t._v("\n                    &\n                    "),e("a",{staticClass:"f-primary",attrs:{href:"#"}},[t._v(t._s(t.translations.privacy))])])])])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=9.9a0069b77d0efb87cb63.js.map