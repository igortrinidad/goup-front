webpackJsonp([32],{1081:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a(9),i=a.n(e),r=a(10),s=a.n(r),o=a(361),c=a.n(o),l=(a(867),a(19));t.default={name:"companies-list",components:{mainHeader:s.a,cardPlaceholder:c.a,ratingSimple:a(362)},data:function(){return{view:{list:!1},companies:[],placeholder:!0,selects:{pilates:!0,personal:!0,physio:!0,healthy:!0,nutrition:!0,massage:!0},filter:""}},computed:i()({},a.i(l.b)(["currentUser"]),{filteredCompanies:function(){var n=this;return this.companies.filter(function(t){return t.name.toLowerCase().indexOf(n.filter.toLowerCase())>=0})}}),mounted:function(){this.getCompanies(),window.localStorage.getItem("company_last_tab")&&window.localStorage.removeItem("company_last_tab")},methods:i()({},a.i(l.a)(["updateProfessionalCompanies"]),{getCompanies:function(){var n=this;n.placeholder=!0,n.$http.get("professional/company/my_companies").then(function(t){n.companies=t.data.companies,setTimeout(function(){n.placeholder=!1},200)}).catch(function(n){console.log(n)})},isConfirmed:function(n){var t=this,a=t.companies,e=!1;return a.filter(function(a){a.id===n&&a.professionals.filter(function(n){n.id===t.currentUser.id&&(e=!!n.pivot.is_confirmed)})}),e},removeProfessional:function(n){var t=this;t.$swal({title:"Excluir solicitação",text:"Deseja realmente excluir a solicitação da empresa?",type:"warning",showCancelButton:!0,confirmButtonText:"Excluir",confirmButtonColor:"#E14A45",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(){t.$http.post("professional/company/professional/remove_solicitation",{professional_id:t.currentUser.id,company_id:n}).then(function(a){successNotify("","Solicitação excluída com sucesso"),t.companies=t.companies.filter(function(t){return t.id!=n}),t.updateProfessionalCompanies(a.data.companies)}).catch(function(n){console.log(n)})}).catch(function(){})},acceptSolicitation:function(n){var t=this;t.$http.post("professional/company/professional/accept_solicitation",{professional_id:t.currentUser.id,company_id:n}).then(function(n){successNotify("","Solicitação confirmada com sucesso"),t.companies.filter(function(n){n.professionals.map(function(n){n.id===t.currentUser.id&&(n.pivot.is_confirmed=!0)})}),t.updateProfessionalCompanies(n.data.companies)}).catch(function(n){console.log(n)})}})}},1216:function(n,t,a){t=n.exports=a(859)(),t.push([n.i,".wrapper[data-v-c539563c]{background:#88c657;border-top:1px solid #f4f5f5;margin-top:-20px;color:#fff}","",{version:3,sources:["/Users/igortrindade/Code/goup-front/src/modules/professional/company/components/list.vue"],names:[],mappings:"AA0RA,0BACI,mBAAoB,AACpB,6BAA8B,AAC9B,iBAAkB,AAClB,UAAY,CACf",file:"list.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Wrapper */\n.wrapper[data-v-c539563c] {\n    background: #88C657;\n    border-top: 1px solid #F4F5F5;\n    margin-top: -20px;\n    color: #fff;\n}\n"],sourceRoot:""}])},1314:function(n,t,a){var e=a(1216);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a(860)("492c78ba",e,!0)},1502:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"first-container"},[a("main-header",{attrs:{type:"center",title:"Minhas empresas",cursor:!1,action:function(){return!1},hasback:!0}}),n._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"container"},[a("div",{staticClass:"text-center"},[a("h4",{staticClass:"f-300 f-14"},[n._v("\n                    Você tem "),a("b",{staticClass:"f-400"},[n._v(n._s(n.companies.length))]),n._v(" "+n._s(n.companies.length>1?"Empresas cadastradas.":"Empresa cadastrada.")+"\n                ")])]),n._v(" "),a("div",{staticClass:"form-group search"},[a("label",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Procure pelo nome"},domProps:{value:n.filter},on:{input:function(t){t.target.composing||(n.filter=t.target.value)}}}),n._v(" "),n._m(0)])])])]),n._v(" "),a("div",{staticClass:"container m-t-20"},[n.placeholder?a("card-placeholder",{attrs:{circleImage:!0,small:!0}}):n._e(),n._v(" "),n.placeholder?n._e():a("div",{staticClass:"row m-t-20"},n._l(n.filteredCompanies,function(t,e){return a("div",{staticClass:"col-sm-4 col-xs-12"},[a("div",{staticClass:"card"},[a("router-link",{staticClass:"cursor-pointer",attrs:{tag:"div",to:{name:"admin.companies.show",params:{company_id:t.id}}}},[a("div",{staticClass:"card-header ch-alt text-center"},[a("div",{staticClass:"picture-circle",style:"background-image:url('"+t.avatar+"')"}),n._v(" "),a("h3",{staticClass:"f-300 m-b-0"},[n._v(n._s(t.name))])])]),n._v(" "),a("div",{staticClass:"card-body card-padding text-center"},[a("div",[n._l(t.categories,function(t){return a("span",{staticClass:"label label-primary f-300 f-14 m-t-5 m-r-5"},[n._v(n._s(t.name))])}),n._v(" "),t.current_rating>0?a("span",{staticClass:"d-block f-300 f-14 m-t-10"},[n._v("\n                                Avaliação:\n                                "),a("rating-simple",{attrs:{value:t.current_rating,max:5,size:1,"align-class":"text-center"},on:{"update:value":function(n){t.current_rating=n}}})],1):n._e(),n._v(" "),t.current_rating<=0?a("span",{staticClass:"d-block f-300 f-14 m-t-10"},[n._v("\n                                Ainda não possui avaliações\n                            ")]):n._e(),n._v(" "),n.isConfirmed(t.id)?a("router-link",{staticClass:"btn btn-xs btn-info m-t-10",attrs:{tag:"button",to:{name:"admin.companies.show",params:{company_id:t.id}}}},[n._v("\n                                Gerenciar\n                            ")]):n._e(),n._v(" "),n.isConfirmed(t.id)?n._e():a("button",{staticClass:"btn btn-info btn-xs m-r-5 m-t-5",on:{click:function(a){a.preventDefault(),n.acceptSolicitation(t.id)}}},[n._v("\n                                Confirmar solicitação\n                            ")]),n._v(" "),n.isConfirmed(t.id)?n._e():a("button",{staticClass:"btn btn-danger btn-xs m-r-5 m-t-5",on:{click:function(a){a.preventDefault(),n.removeProfessional(t.id)}}},[n._v("\n                                Excluir solicitação\n                            ")])],2)])],1)])}))],1),n._v(" "),n.placeholder||n.companies.length?n._e():a("div",{staticClass:"container m-t-20"},[n._m(1)])],1)},staticRenderFns:[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("span",{staticClass:"input-group-addon btn btn-light",attrs:{name:"span"}},[a("i",{staticClass:"ion-ios-search f-20"})])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"text-center"},[a("i",{staticClass:"d-block ion-sad-outline f-24"}),n._v(" "),a("span",{staticClass:"f-300"},[n._v("Você ainda não possui empresas cadastradas.")])])])])}]}},423:function(n,t,a){a(1314);var e=a(2)(a(1081),a(1502),"data-v-c539563c",null);n.exports=e.exports},861:function(n,t){function a(){}function e(n,t){return Math.floor(Math.random()*(t-n+1))+n}a.maxFromBits=function(n){return Math.pow(2,n)},a.limitUI04=a.maxFromBits(4),a.limitUI06=a.maxFromBits(6),a.limitUI08=a.maxFromBits(8),a.limitUI12=a.maxFromBits(12),a.limitUI14=a.maxFromBits(14),a.limitUI16=a.maxFromBits(16),a.limitUI32=a.maxFromBits(32),a.limitUI40=a.maxFromBits(40),a.limitUI48=a.maxFromBits(48),a.randomUI04=function(){return e(0,a.limitUI04-1)},a.randomUI06=function(){return e(0,a.limitUI06-1)},a.randomUI08=function(){return e(0,a.limitUI08-1)},a.randomUI12=function(){return e(0,a.limitUI12-1)},a.randomUI14=function(){return e(0,a.limitUI14-1)},a.randomUI16=function(){return e(0,a.limitUI16-1)},a.randomUI32=function(){return e(0,a.limitUI32-1)},a.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},a.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},a.paddedString=function(n,t,a){n=String(n),a=a||"0";for(var e=t-n.length;e>0;e>>>=1,a+=a)1&e&&(n=a+n);return n},a.prototype.fromParts=function(n,t,e,i,r,s){return this.version=e>>12&15,this.hex=a.paddedString(n.toString(16),8)+"-"+a.paddedString(t.toString(16),4)+"-"+a.paddedString(e.toString(16),4)+"-"+a.paddedString(i.toString(16),2)+a.paddedString(r.toString(16),2)+"-"+a.paddedString(s.toString(16),12),this},a.prototype.toString=function(){return this.hex},a.prototype.toURN=function(){return"urn:uuid:"+this.hex},a.prototype.toBytes=function(){for(var n=this.hex.split("-"),t=[],a=0,e=0;e<n.length;e++)for(var i=0;i<n[e].length;i+=2)t[a++]=parseInt(n[e].substr(i,2),16);return t},a.prototype.equals=function(n){return n instanceof UUID&&this.hex===n.hex},a.getTimeFieldValues=function(n){var t=n-Date.UTC(1582,9,15),a=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&a,hi:a>>>16,timestamp:t}},a._create4=function(){return(new a).fromParts(a.randomUI32(),a.randomUI16(),16384|a.randomUI12(),128|a.randomUI06(),a.randomUI08(),a.randomUI48())},a._create1=function(){var n=(new Date).getTime(),t=a.randomUI14(),e=1099511627776*(1|a.randomUI08())+a.randomUI40(),i=a.randomUI04(),r=0;n!=r?(n<r&&t++,r=n,i=a.randomUI04()):Math.random()<.25&&i<9984?i+=1+a.randomUI04():t++;var s=a.getTimeFieldValues(r),o=s.low+i,c=4095&s.hi|4096;t&=16383;var l=t>>>8|128,m=255&t;return(new a).fromParts(o,s.mid,c,l,m,e)},a.create=function(n){return n=n||4,this["_create"+n]()},a.fromTime=function(n,t){t=t||!1;var e=a.getTimeFieldValues(n),i=e.low,r=4095&e.hi|4096;return!1===t?(new a).fromParts(i,e.mid,r,0,0,0):(new a).fromParts(i,e.mid,r,128|a.limitUI06,a.limitUI08-1,a.limitUI48-1)},a.firstFromTime=function(n){return a.fromTime(n,!1)},a.lastFromTime=function(n){return a.fromTime(n,!0)},a.fromURN=function(n){var t;return(t=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(n))?(new a).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},a.fromBytes=function(n){if(n.length<5)return null;for(var t="",e=0,i=[4,2,2,2,6],r=0;r<i.length;r++){for(var s=0;s<i[r];s++){var o=n[e++].toString(16);1==o.length&&(o="0"+o),t+=o}6!==i[r]&&(t+="-")}return a.fromURN(t)},a.fromBinary=function(n){for(var t=[],e=0;e<n.length;e++)if(t[e]=n.charCodeAt(e),t[e]>255||t[e]<0)throw new Error("Unexpected byte in binary data.");return a.fromBytes(t)},a.new=function(){return this.create(4)},a.newTS=function(){return this.create(1)},n.exports=a},862:function(n,t,a){"use strict";function e(){return{id:s.create().toString(),name:"",last_name:"",email:"",slug:"",avatar:"",password:"",remember_token:"",created_at:"",updated_at:"",full_name:"",photos:[],companies:[],certifications:[],current_rating:0,total_rating:0,last_ratings:[],calendar_settings:{slot_duration:60,is_active:!0,workdays:[],unavailable_dates_range:[]}}}function i(){return{name:"",last_name:"",email:"",phone:"",bday:"",categories:[]}}t.a=e,t.c=i;var r=a(864),s=a(861);t.b={id:s.create().toString(),name:"John",last_name:"Doe",email:"john@doe.com",slug:"",avatar:"https://isaudavel-development.s3.amazonaws.com/assets/isaudavel_holder850.png",functions:["Massagista"],password:"",remember_token:"",created_at:"",updated_at:"",full_name:"John Doe",current_rating:4,total_rating:0,categories:r.a,companies:[],photos:[],professional_workdays:[],certifications:[],last_ratings:[]}},863:function(n,t,a){"use strict";function e(){return{name:"Pilates",slug:"Pilates",is_active:!0,calendar_settings:{is_professional_scheduled:!1,wordkays:[]},professionals:[a.i(i.a)(),a.i(i.a)()]}}t.a=e;var i=a(862)},864:function(n,t,a){"use strict";a(863);t.a=[{name:"Pilates",slug:"pilates"},{name:"Personal Trainer",slug:"personal"},{name:"Nutrição",slug:"nutricao"},{name:"Fisioterapia",slug:"fisioterapia"},{name:"Massagem",slug:"massagem"},{name:"Saúde",slug:"saude"}]},867:function(n,t,a){"use strict";function e(){return{id:i.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!1,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:0,lng:0,city:"",state:"",current_rating:0,clients:[],photos:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}}t.a=e;var i=(a(862),a(864),a(870),a(863),a(861));t.b={id:i.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!0,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:-19.8725915,lng:-43.9710057,city:"",state:"",current_rating:4,photos:[],clients:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}},870:function(n,t,a){"use strict"}});
//# sourceMappingURL=32.f9d39afbb1e41281b494.js.map