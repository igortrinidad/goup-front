webpackJsonp([29],{1028:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n.n(i),a=n(19),r=n(11),s=n.n(r),l=n(366),c=n.n(l),u=n(60),d=n(873);e.default={name:"client-profile-show",components:{mainHeader:s.a,Avatar:c.a,photoUploader:n(889)},data:function(){return{isMobile:!1,photoUploader:{isvisible:!1},client:n.i(d.a)()}},computed:o()({},n.i(a.b)(["currentUser","AuthToken"])),mounted:function(){this.getClient(),window.cordova&&(this.isMobile=!0)},methods:o()({},n.i(a.a)(["authSetUser","setLoading","setUserAvatar"]),{getClient:function(){var t=this;t.$http.post("client/profile/show",{client_id:t.currentUser.id}).then(function(e){t.client=e.data.client}).catch(function(t){console.log(t)})},setProfileImage:function(t){var e=this,n={client_id:e.client.id,photo_id:t.id};e.$http.post("client/photo/set_profile",n).then(function(n){e.client.photos.map(function(e){e.is_profile=!1,e.id==t.id&&(e.is_profile=!0)}),e.setUserAvatar(t.photo_url),successNotify("","Perfil alterado com sucesso.")}).catch(function(t){console.log(t)})},getPicture:function(){function t(t){n.handleUpload(t)}function e(t){alert("Failed because: "+t)}var n=this;navigator.camera.getPicture(t,e,{quality:50,destinationType:Camera.DestinationType.FILE_URI})},getCameraRoll:function(){var t=this;navigator.camera.getPicture(function(e){t.handleUpload(e)},function(t){errorNotify("",t)},{quality:50,destinationType:navigator.camera.DestinationType.FILE_URI,sourceType:navigator.camera.PictureSourceType.PHOTOLIBRARY})},handleUpload:function(t){console.log(t);var e=this,n=function(t){var n=JSON.parse(t.response);e.client.photos.length||(n.photo.is_profile=!0),e.client.photos.push(n.photo),e.setLoading({is_loading:!1,message:""}),successNotify("","Imagem enviada com sucesso")},i=function(t){e.setLoading({is_loading:!1,message:""}),errorNotify("","Houve um erro ao enviar a imagem"),console.log(t)},o=new FileUploadOptions;o.fileKey="file",o.fileName="myphoto.jpg",o.mimeType="image/jpeg",o.headers={Authorization:"Bearer "+e.AuthToken};var a=new Object;a.client_id=e.client.id,a.is_profile=!1,o.params=a;var r=new FileTransfer;e.setLoading({is_loading:!0,message:"Enviando, aguarde"}),r.upload(t,encodeURI(u.a+"/client/photo/upload"),n,i,o)},uploadPhoto:function(t){var e=this,n=new FormData;n.append("file",t.file),n.append("client_id",e.client.id),e.$http.post("client/photo/upload",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.client.photos.length||(t.data.photo.is_profile=!0),e.client.photos.push(t.data.photo),successNotify("","Imagem enviada com sucesso")}).catch(function(t){console.log(t)})},handlePhotoUploadModal:function(t){this.photoUploader.isvisible=t},handleProfileImage:function(t){this.client.photos.map(function(e){e.is_profile=!1,e.id==t.id&&(e.is_profile=!0)})},removeImage:function(t){var e=this;e.$http.get("client/photo/destroy/"+t).then(function(n){e.client.photos=e.client.photos.filter(function(e){return e.id!=t}),successNotify("","Imagem removida com sucesso")}).catch(function(t){console.log(t)})}})}},1226:function(t,e,n){e=t.exports=n(866)(),e.push([t.i,".header-profile[data-v-d75e0ce6]{background:#87c657;margin-top:-20px;padding:0;color:#fff}","",{version:3,sources:["/Users/igortrindade/Code/isaudavel-front/src/modules/client/dashboard/components/profile-show.vue"],names:[],mappings:"AACA,iCACI,mBAAoB,AACpB,iBAAkB,AAClB,UAAgB,AAChB,UAAY,CACf",file:"profile-show.vue",sourcesContent:["\n.header-profile[data-v-d75e0ce6] {\n    background: #87c657;\n    margin-top: -20px;\n    padding: -0px 0;\n    color: #fff;\n}\n\n"],sourceRoot:""}])},1324:function(t,e,n){var i=n(1226);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(867)("6b366b55",i,!0)},1515:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"first-container"},[n("main-header",{attrs:{type:"center",title:"Meu perfil",cursor:!1,action:function(){return!1},hasback:!0}}),t._v(" "),n("div",{staticClass:"header-profile"},[n("div",{staticClass:"container"},[n("div",{staticClass:"text-center m-t-10"},[n("router-link",{attrs:{to:{name:"client.profile.show",query:{client_id:t.currentUser.id}}}},[n("div",{staticClass:"picture-circle picture-circle-p",style:"background-image:url('"+t.currentUser.avatar+"')"})]),t._v(" "),n("h2",{staticClass:"f-300 m-15"},[t._v(t._s(t.currentUser.full_name))])],1)])]),t._v(" "),n("div",{staticClass:"container m-t-10"},[n("div",{staticClass:"card"},[t._m(0),t._v(" "),n("div",{staticClass:"card-body card-padding"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Nome")]),t._v(" "),n("p",[t._v(t._s(t.currentUser.full_name))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Email")]),t._v(" "),n("p",[t._v(t._s(t.currentUser.email))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Telefone")]),t._v(" "),n("p",[t._v(t._s(t.currentUser.phone))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Nascimento")]),t._v(" "),n("p",[t._v(t._s(t.currentUser.bday))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Objetivo")]),t._v(" "),n("p",[t._v(t._s(t.currentUser.target))])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4 col-md-offset-8 col-xs-12 col-sm-12"},[n("router-link",{staticClass:"btn btn-info btn-block btn-sm",attrs:{to:{name:"client.profile.edit",query:{client_id:t.currentUser.id}},tag:"button"}},[t._v("\n                        Editar\n                    ")])],1)])])])]),t._v(" "),n("div",{staticClass:"container m-t-10"},[n("div",{staticClass:"card"},[t._m(1),t._v(" "),n("div",{staticClass:"card-body card-padding"},[t.isMobile?n("div",[n("button",{staticClass:"btn btn-sm btn-block btn-info m-t-20",on:{click:function(e){t.getPicture()}}},[t._v("Tirar foto")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-block btn-primary m-t-20",on:{click:function(e){t.getCameraRoll()}}},[t._v("Abrir galeria")])]):t._e(),t._v(" "),t.isMobile?t._e():n("div",{},[n("button",{staticClass:"btn btn-sm btn-info m-t-20",on:{click:function(e){e.preventDefault(),t.photoUploader.isvisible=!0}}},[t._v("Enviar imagem")])]),t._v(" "),t.client.photos.length?t._e():n("p",{staticClass:"m-t-20"},[t._v("Nenhuma imagem enviada.")]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row m-t-20"},t._l(t.client.photos,function(e,i){return n("div",{staticClass:"col-md-2 col-sm-6 col-xs-6"},[n("div",{staticClass:"edit-pic-list",style:"background-image:url('"+e.photo_url+"')"}),t._v(" "),n("button",{staticClass:"btn btn-danger btn-xs btn-block",on:{click:function(n){n.preventDefault(),t.removeImage(e.id)}}},[n("i",{staticClass:"fa fa-trash"})]),t._v(" "),n("div",{staticClass:"m-t-5"},[n("div",{staticClass:"checkbox-group"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.is_profile,expression:"img.is_profile"}],staticClass:"wp-checkbox-reset wp-checkbox-input",attrs:{type:"checkbox",disabled:e.is_profile},domProps:{checked:Array.isArray(e.is_profile)?t._i(e.is_profile,null)>-1:e.is_profile},on:{change:function(n){t.setProfileImage(e)},__c:function(n){var i=e.is_profile,o=n.target,a=!!o.checked;if(Array.isArray(i)){var r=t._i(i,null);a?r<0&&(e.is_profile=i.concat(null)):r>-1&&(e.is_profile=i.slice(0,r).concat(i.slice(r+1)))}else e.is_profile=a}}}),t._v(" "),n("div",{staticClass:"wp-checkbox-reset wp-checkbox-inline wp-checkbox"}),t._v(" "),n("span",{staticClass:"wp-checkbox-text"},[t._v("Imagem do perfil")])])])])])}))])])]),t._v(" "),n("photo-uploader",{attrs:{isvisible:t.photoUploader.isvisible,"send-action":t.uploadPhoto},on:{"update:isvisible":function(e){t.photoUploader.isvisible=e},"close-photo-uploader-modal":t.handlePhotoUploadModal}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header ch-alt text-center"},[n("h4",[t._v("Meus dados")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header ch-alt text-center"},[n("h4",[t._v("Fotos")])])}]}},390:function(t,e,n){n(1324);var i=n(2)(n(1028),n(1515),"data-v-d75e0ce6",null);t.exports=i.exports},868:function(t,e){function n(){}function i(t,e){return Math.floor(Math.random()*(e-t+1))+t}n.maxFromBits=function(t){return Math.pow(2,t)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return i(0,n.limitUI04-1)},n.randomUI06=function(){return i(0,n.limitUI06-1)},n.randomUI08=function(){return i(0,n.limitUI08-1)},n.randomUI12=function(){return i(0,n.limitUI12-1)},n.randomUI14=function(){return i(0,n.limitUI14-1)},n.randomUI16=function(){return i(0,n.limitUI16-1)},n.randomUI32=function(){return i(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(t,e,n){t=String(t),n=n||"0";for(var i=e-t.length;i>0;i>>>=1,n+=n)1&i&&(t=n+t);return t},n.prototype.fromParts=function(t,e,i,o,a,r){return this.version=i>>12&15,this.hex=n.paddedString(t.toString(16),8)+"-"+n.paddedString(e.toString(16),4)+"-"+n.paddedString(i.toString(16),4)+"-"+n.paddedString(o.toString(16),2)+n.paddedString(a.toString(16),2)+"-"+n.paddedString(r.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var t=this.hex.split("-"),e=[],n=0,i=0;i<t.length;i++)for(var o=0;o<t[i].length;o+=2)e[n++]=parseInt(t[i].substr(o,2),16);return e},n.prototype.equals=function(t){return t instanceof UUID&&this.hex===t.hex},n.getTimeFieldValues=function(t){var e=t-Date.UTC(1582,9,15),n=e/4294967296*1e4&268435455;return{low:1e4*(268435455&e)%4294967296,mid:65535&n,hi:n>>>16,timestamp:e}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var t=(new Date).getTime(),e=n.randomUI14(),i=1099511627776*(1|n.randomUI08())+n.randomUI40(),o=n.randomUI04(),a=0;t!=a?(t<a&&e++,a=t,o=n.randomUI04()):Math.random()<.25&&o<9984?o+=1+n.randomUI04():e++;var r=n.getTimeFieldValues(a),s=r.low+o,l=4095&r.hi|4096;e&=16383;var c=e>>>8|128,u=255&e;return(new n).fromParts(s,r.mid,l,c,u,i)},n.create=function(t){return t=t||4,this["_create"+t]()},n.fromTime=function(t,e){e=e||!1;var i=n.getTimeFieldValues(t),o=i.low,a=4095&i.hi|4096;return!1===e?(new n).fromParts(o,i.mid,a,0,0,0):(new n).fromParts(o,i.mid,a,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(t){return n.fromTime(t,!1)},n.lastFromTime=function(t){return n.fromTime(t,!0)},n.fromURN=function(t){var e;return(e=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(t))?(new n).fromParts(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseInt(e[4],16),parseInt(e[5],16),parseInt(e[6],16)):null},n.fromBytes=function(t){if(t.length<5)return null;for(var e="",i=0,o=[4,2,2,2,6],a=0;a<o.length;a++){for(var r=0;r<o[a];r++){var s=t[i++].toString(16);1==s.length&&(s="0"+s),e+=s}6!==o[a]&&(e+="-")}return n.fromURN(e)},n.fromBinary=function(t){for(var e=[],i=0;i<t.length;i++)if(e[i]=t.charCodeAt(i),e[i]>255||e[i]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(e)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},t.exports=n},873:function(t,e,n){"use strict";function i(){return{id:"",avatar:"",name:"",last_name:"",email:"",slug:"",password:"",bday:"",phone:"",target:"",current_xp:0,total_xp:0,level:0,created_at:"",updated_at:"",full_name:"",photos:[],trainnings:[],evaluations:[],restrictions:[],exams:[],diets:[],subscriptions:[],company_client_observations:[]}}function o(){return{name:"",last_name:"",email:"",phone:"",bday:""}}e.a=i,e.b=o;var a,r=n(24),s=n.n(r);e.c=(a={id:"c1",avatar:"https://isaudavel-development.s3.amazonaws.com/assets/isaudavel_holder850.png",name:"André",last_name:"Brandão",full_name:"André Brandão",email:"",slug:"",password:"",bday:"",phone:"",target:"",current_xp:0,total_xp:0,level:0,created_at:"",updated_at:""},s()(a,"full_name",""),s()(a,"photos",[]),s()(a,"trainnings",[]),s()(a,"evaluations",[]),s()(a,"restrictions",[]),s()(a,"exams",[]),s()(a,"diets",[]),s()(a,"subscriptions",[]),s()(a,"company_client_observations",[]),a)},889:function(t,e,n){n(894);var i=n(2)(n(891),n(895),"data-v-06e851e8",null);t.exports=i.exports},891:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(892),n(868);e.default={props:{recordId:String,sendAction:Function,isvisible:{required:!0,twoWay:!0}},data:function(){return{}},mounted:function(){},methods:{loadFile:function(t){var e=this,n=t.target,i=(new FileReader,new Image);i.src=window.URL.createObjectURL(n.files[0]),i.onload=function(){e.close(),this.width<1400&&e.$swal({title:"Tamanho da imagem",text:"Para melhor visualização, recomendamos que as imagens tenham no minímo 1400 pixels de largura",type:"info",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar",confirmButtonColor:"#82CB7D",reverseButtons:!0}).then(function(){e.sendAction({file:n.files[0]})}).catch(function(){}),this.width>=1400&&e.sendAction({file:n.files[0]})}},close:function(){this.$emit("close-photo-uploader-modal",!1)}}}},892:function(t,e,n){(function(n){var i,o,a;!function(n,r){o=[e],i=r,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(e){function i(t){if(t in H)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Y.length;n--;)if((t=Y[n]+e)in H)return t}function o(t,e){t=t||{};for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},o(t[n],e[n])):t[n]=e[n];return t}function a(t){if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),t.dispatchEvent(e)}else t.fireEvent("onchange")}function r(t,e,n){if("string"==typeof e){var i=e;e={},e[i]=n}for(var o in e)t.style[o]=e[o]}function s(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function c(t){return parseInt(t,10)}function u(t,e){var n=e||new Image;return n.style.opacity=0,new Promise(function(e){n.src===t?e(n):(n.removeAttribute("crossOrigin"),t.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){setTimeout(function(){e(n)},1)},n.src=t)})}function d(t,e){window.EXIF||e(0),EXIF.getData(t,function(){var t=EXIF.getTag(this,"Orientation");e(t)})}function p(t,e,n){var i=e.width,o=e.height,a=t.getContext("2d");switch(t.width=e.width,t.height=e.height,a.save(),n){case 2:a.translate(i,0),a.scale(-1,1);break;case 3:a.translate(i,o),a.rotate(180*Math.PI/180);break;case 4:a.translate(0,o),a.scale(1,-1);break;case 5:t.width=o,t.height=i,a.rotate(90*Math.PI/180),a.scale(1,-1);break;case 6:t.width=o,t.height=i,a.rotate(90*Math.PI/180),a.translate(0,-o);break;case 7:t.width=o,t.height=i,a.rotate(-90*Math.PI/180),a.translate(-i,o),a.scale(1,-1);break;case 8:t.width=o,t.height=i,a.translate(0,i),a.rotate(-90*Math.PI/180)}a.drawImage(e,0,0,i,o),a.restore()}function m(){var t,e,n,i,o,a=this,l=a.options.viewport.type?"cr-vp-"+a.options.viewport.type:null;a.options.useCanvas=a.options.enableOrientation||h.call(a),a.data={},a.elements={},t=a.elements.boundary=document.createElement("div"),e=a.elements.viewport=document.createElement("div"),a.elements.img=document.createElement("img"),n=a.elements.overlay=document.createElement("div"),a.options.useCanvas?(a.elements.canvas=document.createElement("canvas"),a.elements.preview=a.elements.canvas):a.elements.preview=a.elements.img,s(t,"cr-boundary"),i=a.options.boundary.width,o=a.options.boundary.height,r(t,{width:i+(isNaN(i)?"":"px"),height:o+(isNaN(o)?"":"px")}),s(e,"cr-viewport"),l&&s(e,l),r(e,{width:a.options.viewport.width+"px",height:a.options.viewport.height+"px"}),e.setAttribute("tabindex",0),s(a.elements.preview,"cr-image"),s(n,"cr-overlay"),a.element.appendChild(t),t.appendChild(a.elements.preview),t.appendChild(e),t.appendChild(n),s(a.element,"croppie-container"),a.options.customClass&&s(a.element,a.options.customClass),y.call(this),a.options.enableZoom&&v.call(a)}function h(){return this.options.enableExif&&window.EXIF}function f(t){if(this.options.enableZoom){var e=this.elements.zoomer,n=S(t,4);e.value=Math.max(e.min,Math.min(e.max,n))}}function v(){function t(){g.call(n,{value:parseFloat(o.value),origin:new q(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:X.parse(n.elements.preview)})}function e(e){var i,o;i=e.wheelDelta?e.wheelDelta/1200:e.deltaY?e.deltaY/1060:e.detail?e.detail/-60:0,o=n._currentZoom+i*n._currentZoom,e.preventDefault(),f.call(n,o),t.call(n)}var n=this,i=n.elements.zoomerWrap=document.createElement("div"),o=n.elements.zoomer=document.createElement("input");s(i,"cr-slider-wrap"),s(o,"cr-slider"),o.type="range",o.step="0.0001",o.value=1,o.style.display=n.options.showZoomer?"":"none",n.element.appendChild(i),i.appendChild(o),n._currentZoom=1,n.elements.zoomer.addEventListener("input",t),n.elements.zoomer.addEventListener("change",t),n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",e),n.elements.boundary.addEventListener("DOMMouseScroll",e))}function g(t){function e(){var t={};t[j]=i.toString(),t[W]=a.toString(),r(n.elements.preview,t)}var n=this,i=t?t.transform:X.parse(n.elements.preview),o=t?t.viewportRect:n.elements.viewport.getBoundingClientRect(),a=t?t.origin:new q(n.elements.preview);if(n._currentZoom=t?t.value:n._currentZoom,i.scale=n._currentZoom,e(),n.options.enforceBoundary){var s=w.call(n,o),l=s.translate,c=s.origin;i.x>=l.maxX&&(a.x=c.minX,i.x=l.maxX),i.x<=l.minX&&(a.x=c.maxX,i.x=l.minX),i.y>=l.maxY&&(a.y=c.minY,i.y=l.maxY),i.y<=l.minY&&(a.y=c.maxY,i.y=l.minY)}e(),$.call(n),_.call(n)}function w(t){var e=this,n=e._currentZoom,i=t.width,o=t.height,a=e.elements.boundary.clientWidth/2,r=e.elements.boundary.clientHeight/2,s=e.elements.preview.getBoundingClientRect(),l=s.width,c=s.height,u=i/2,d=o/2,p=-1*(u/n-a),m=p-(l*(1/n)-i*(1/n)),h=-1*(d/n-r),f=h-(c*(1/n)-o*(1/n)),v=1/n*u,g=l*(1/n)-v,w=1/n*d;return{translate:{maxX:p,minX:m,maxY:h,minY:f},origin:{maxX:g,minX:v,maxY:c*(1/n)-w,minY:w}}}function b(){var t=this,e=t._currentZoom,n=t.elements.preview.getBoundingClientRect(),i=t.elements.viewport.getBoundingClientRect(),o=X.parse(t.elements.preview.style[j]),a=new q(t.elements.preview),s=i.top-n.top+i.height/2,l=i.left-n.left+i.width/2,c={},u={};c.y=s/e,c.x=l/e,u.y=(c.y-a.y)*(1-e),u.x=(c.x-a.x)*(1-e),o.x-=u.x,o.y-=u.y;var d={};d[W]=c.x+"px "+c.y+"px",d[j]=o.toString(),r(t.elements.preview,d)}function y(){function t(t,e){var n=m.elements.preview.getBoundingClientRect(),i=p.y+e,o=p.x+t;m.options.enforceBoundary?(d.top>n.top+e&&d.bottom<n.bottom+e&&(p.y=i),d.left>n.left+t&&d.right<n.right+t&&(p.x=o)):(p.y=i,p.x=o)}function e(t){var e=37,i=38,o=39,a=40;if(!t.shiftKey||t.keyCode!=i&&t.keyCode!=a){if(t.keyCode>=37&&t.keyCode<=40){t.preventDefault();var r=function(t){switch(t){case e:return[1,0];case i:return[0,1];case o:return[-1,0];case a:return[0,-1]}}(t.keyCode);p=X.parse(m.elements.preview),document.body.style[D]="none",d=m.elements.viewport.getBoundingClientRect(),n(r)}}else{var s=0;s=t.keyCode==i?parseFloat(m.elements.zoomer.value,10)+parseFloat(m.elements.zoomer.step,10):parseFloat(m.elements.zoomer.value,10)-parseFloat(m.elements.zoomer.step,10),m.setZoom(s)}}function n(e){var n=e[0],i=e[1],o={};t(n,i),o[j]=p.toString(),r(m.elements.preview,o),C.call(m),document.body.style[D]="",b.call(m),_.call(m),u=0}function i(t){if(t.preventDefault(),!h){if(h=!0,l=t.pageX,c=t.pageY,t.touches){var e=t.touches[0];l=e.pageX,c=e.pageY}p=X.parse(m.elements.preview),window.addEventListener("mousemove",o),window.addEventListener("touchmove",o),window.addEventListener("mouseup",s),window.addEventListener("touchend",s),document.body.style[D]="none",d=m.elements.viewport.getBoundingClientRect()}}function o(e){e.preventDefault();var n=e.pageX,i=e.pageY;if(e.touches){var o=e.touches[0];n=o.pageX,i=o.pageY}var s=n-l,d=i-c,h={};if("touchmove"==e.type&&e.touches.length>1){var v=e.touches[0],g=e.touches[1],w=Math.sqrt((v.pageX-g.pageX)*(v.pageX-g.pageX)+(v.pageY-g.pageY)*(v.pageY-g.pageY));u||(u=w/m._currentZoom);var b=w/u;return f.call(m,b),void a(m.elements.zoomer)}t(s,d),h[j]=p.toString(),r(m.elements.preview,h),C.call(m),c=i,l=n}function s(){h=!1,window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s),document.body.style[D]="",b.call(m),_.call(m),u=0}var l,c,u,d,p,m=this,h=!1;m.elements.overlay.addEventListener("mousedown",i),m.elements.viewport.addEventListener("keydown",e),m.elements.overlay.addEventListener("touchstart",i)}function C(){var t=this,e=t.elements.boundary.getBoundingClientRect(),n=t.elements.preview.getBoundingClientRect();r(t.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-e.top+"px",left:n.left-e.left+"px"})}function _(){var t,e=this,n=e.get();if(x.call(e))if(e.options.update.call(e,n),e.$&&"undefined"==typeof Prototype)e.$(e.element).trigger("update",n);else{var t;window.CustomEvent?t=new CustomEvent("update",{detail:n}):(t=document.createEvent("CustomEvent"),t.initCustomEvent("update",!0,!0,n)),e.element.dispatchEvent(t)}}function x(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function A(){var t,e,n,i,o,s=this,l=0,c=1.5,u=1,d={},p=s.elements.preview,m=s.elements.zoomer,h=new X(0,0,u),v=new q,g=x.call(s);if(g&&!s.data.bound){if(s.data.bound=!0,d[j]=h.toString(),d[W]=v.toString(),d.opacity=1,r(p,d),t=p.getBoundingClientRect(),e=s.elements.viewport.getBoundingClientRect(),n=s.elements.boundary.getBoundingClientRect(),s._originalImageWidth=t.width,s._originalImageHeight=t.height,s.options.enableZoom){s.options.enforceBoundary&&(i=e.width/t.width,o=e.height/t.height,l=Math.max(i,o)),l>=c&&(c=l+1),m.min=S(l,4),m.max=S(c,4);var w=Math.max(n.width/t.width,n.height/t.height);u=null!==s.data.boundZoom?s.data.boundZoom:w,f.call(s,u),a(m)}else s._currentZoom=u;h.scale=s._currentZoom,d[j]=h.toString(),r(p,d),s.data.points.length?I.call(s,s.data.points):U.call(s),b.call(s),C.call(s)}}function I(t){if(4!=t.length)throw"Croppie - Invalid number of points supplied: "+t;var e=this,n=t[2]-t[0],i=e.elements.viewport.getBoundingClientRect(),o=e.elements.boundary.getBoundingClientRect(),a={left:i.left-o.left,top:i.top-o.top},s=i.width/n,l=t[1],c=t[0],u=-1*t[1]+a.top,d=-1*t[0]+a.left,p={};p[W]=c+"px "+l+"px",p[j]=new X(d,u,s).toString(),r(e.elements.preview,p),f.call(e,s),e._currentZoom=s}function U(){var t=this,e=t.elements.preview.getBoundingClientRect(),n=t.elements.viewport.getBoundingClientRect(),i=t.elements.boundary.getBoundingClientRect(),o=n.left-i.left,a=n.top-i.top,s=o-(e.width-n.width)/2,l=a-(e.height-n.height)/2,c=new X(s,l,t._currentZoom);r(t.elements.preview,j,c.toString())}function B(t){var e=this,n=e.elements.canvas,i=e.elements.img,o=n.getContext("2d"),a=h.call(e),t=e.options.enableOrientation&&t;o.clearRect(0,0,n.width,n.height),n.width=i.width,n.height=i.height,a?d(i,function(e){p(n,i,c(e,10)),t&&p(n,i,t)}):t&&p(n,i,t)}function E(t){var e=this,n=t.points,i=c(n[0]),o=c(n[1]),a=c(n[2]),r=c(n[3]),s=a-i,l=r-o,u=t.circle,d=document.createElement("canvas"),p=d.getContext("2d"),m=s,h=l,f=0,v=0,g=m,w=h,b=t.outputWidth&&t.outputHeight,y=1;return b&&(g=t.outputWidth,w=t.outputHeight,y=g/m),d.width=g,d.height=w,t.backgroundColor&&(p.fillStyle=t.backgroundColor,p.fillRect(0,0,m,h)),i<0&&(f=Math.abs(i),i=0),o<0&&(v=Math.abs(o),o=0),a>e._originalImageWidth&&(s=e._originalImageWidth-i,m=s),r>e._originalImageHeight&&(l=e._originalImageHeight-o,h=l),1!==y&&(f*=y,v*=y,m*=y,h*=y),p.drawImage(this.elements.preview,i,o,s,l,f,v,m,h),u&&(p.fillStyle="#fff",p.globalCompositeOperation="destination-in",p.beginPath(),p.arc(m/2,h/2,m/2,0,2*Math.PI,!0),p.closePath(),p.fill()),d}function k(t){var e=t.points,n=document.createElement("div"),i=document.createElement("img"),o=e[2]-e[0],a=e[3]-e[1];return s(n,"croppie-result"),n.appendChild(i),r(i,{left:-1*e[0]+"px",top:-1*e[1]+"px"}),i.src=t.url,r(n,{width:o+"px",height:a+"px"}),n}function F(t){return E.call(this,t).toDataURL(t.format,t.quality)}function R(t){var e=this;return new Promise(function(n,i){E.call(e,t).toBlob(function(t){n(t)},t.format,t.quality)})}function M(t,e){var n,i=this,o=[],a=null;if("string"==typeof t)n=t,t={};else if(Array.isArray(t))o=t.slice();else{if(void 0===t&&i.data.url)return A.call(i),_.call(i),null;n=t.url,o=t.points||[],a=void 0===t.zoom?null:t.zoom}return i.data.bound=!1,i.data.url=n||i.data.url,i.data.boundZoom=a,u(n,i.elements.img).then(function(n){if(o.length)i.options.relative&&(o=[o[0]*n.naturalWidth/100,o[1]*n.naturalHeight/100,o[2]*n.naturalWidth/100,o[3]*n.naturalHeight/100]),i.data.points=o.map(function(t){return parseFloat(t)});else{var a,r,s=n.naturalWidth,l=n.naturalHeight,c=i.elements.viewport.getBoundingClientRect(),u=c.width/c.height;s/l>u?(r=l,a=r*u):(a=s,r=a/u);var d=(s-a)/2,p=(l-r)/2,m=d+a,h=p+r;i.data.points=[d,p,m,h]}i.options.useCanvas&&(i.elements.img.exifdata=null,B.call(i,t.orientation||1)),A.call(i),_.call(i),e&&e()})}function S(t,e){return parseFloat(t).toFixed(e||0)}function P(){var t=this,e=t.elements.preview.getBoundingClientRect(),n=t.elements.viewport.getBoundingClientRect(),i=n.left-e.left,o=n.top-e.top,a=(n.width-t.elements.viewport.offsetWidth)/2,r=(n.height-t.elements.viewport.offsetHeight)/2,s=i+t.elements.viewport.offsetWidth+a,l=o+t.elements.viewport.offsetHeight+r,c=t._currentZoom;(c===1/0||isNaN(c))&&(c=1);var u=t.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return i=Math.max(u,i/c),o=Math.max(u,o/c),s=Math.max(u,s/c),l=Math.max(u,l/c),{points:[S(i),S(o),S(s),S(l)],zoom:c}}function T(t){var e=this,n=P.call(e),i=o(V,o({},t)),a="string"==typeof t?t:i.type||"base64",r=i.size,s=i.format,l=i.quality,c=i.backgroundColor,u="boolean"==typeof i.circle?i.circle:"circle"===e.options.viewport.type,d=e.elements.viewport.getBoundingClientRect(),p=d.width/d.height;return"viewport"===r?(n.outputWidth=d.width,n.outputHeight=d.height):"object"==typeof r&&(r.width&&r.height?(n.outputWidth=r.width,n.outputHeight=r.height):r.width?(n.outputWidth=r.width,n.outputHeight=r.width/p):r.height&&(n.outputWidth=r.height*p,n.outputHeight=r.height)),Q.indexOf(s)>-1&&(n.format="image/"+s,n.quality=l),n.circle=u,n.url=e.data.url,n.backgroundColor=c,new Promise(function(t,i){switch(a.toLowerCase()){case"rawcanvas":t(E.call(e,n));break;case"canvas":case"base64":t(F.call(e,n));break;case"blob":R.call(e,n).then(t);break;default:t(k.call(e,n))}})}function L(){A.call(this)}function N(t){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var e=this,n=e.elements.canvas,i=(e.elements.img,document.createElement("canvas")),o=1;i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),90!==t&&-270!==t||(o=6),-90!==t&&270!==t||(o=8),180!==t&&-180!==t||(o=3),p(n,i,o),g.call(e)}function Z(){var t=this;t.element.removeChild(t.elements.boundary),l(t.element,"croppie-container"),t.options.enableZoom&&t.element.removeChild(t.elements.zoomerWrap),delete t.elements}function O(t,e){if(this.element=t,this.options=o(o({},O.defaults),e),"img"===this.element.tagName.toLowerCase()){var n=this.element;s(n,"cr-original-image");var i=document.createElement("div");this.element.parentNode.appendChild(i),i.appendChild(n),this.element=i,this.options.url=this.options.url||n.src}if(m.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,M.call(this,a)}}"function"!=typeof Promise&&function(e){function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(r,this),i(s,this))}function a(t){var e=this;return null===this._state?void this._deferreds.push(t):void p(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(r,this),i(s,this))}this._state=!0,this._value=t,l.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,l.call(this)}function l(){for(var t=0,e=this._deferreds.length;e>t;t++)a.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}var d=setTimeout,p="function"==typeof n&&n||function(t){d(t,1)},m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=this;return new o(function(i,o){a.call(n,new c(t,e,i,o))})},o.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new o(function(e,n){function i(a,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){i(a,t)},n)}t[a]=r,0==--o&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)i(a,t[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},o._setImmediateFn=function(t){p=t},void 0!==t&&t.exports?t.exports=o:e.Promise||(e.Promise=o)}(this),"function"!=typeof window.CustomEvent&&function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){for(var i=atob(this.toDataURL(e,n).split(",")[1]),o=i.length,a=new Uint8Array(o),r=0;r<o;r++)a[r]=i.charCodeAt(r);t(new Blob([a],{type:e||"image/png"}))}});var W,j,D,Y=["Webkit","Moz","ms"],H=document.createElement("div").style;j=i("transform"),W=i("transformOrigin"),D=i("userSelect");var z={translate3d:{suffix:", 0px"},translate:{suffix:""}},X=function(t,e,n){this.x=parseFloat(t),this.y=parseFloat(e),this.scale=parseFloat(n)};X.parse=function(t){return t.style?X.parse(t.style[j]):t.indexOf("matrix")>-1||t.indexOf("none")>-1?X.fromMatrix(t):X.fromString(t)},X.fromMatrix=function(t){var e=t.substring(7).split(",");return e.length&&"none"!==t||(e=[1,0,0,1,0,0]),new X(c(e[4]),c(e[5]),parseFloat(e[0]))},X.fromString=function(t){var e=t.split(") "),n=e[0].substring(O.globals.translate.length+1).split(","),i=e.length>1?e[1].substring(6):1,o=n.length>1?n[0]:0,a=n.length>1?n[1]:0;return new X(o,a,i)},X.prototype.toString=function(){var t=z[O.globals.translate].suffix||"";return O.globals.translate+"("+this.x+"px, "+this.y+"px"+t+") scale("+this.scale+")"};var q=function(t){if(!t||!t.style[W])return this.x=0,void(this.y=0);var e=t.style[W].split(" ");this.x=parseFloat(e[0]),this.y=parseFloat(e[1])};q.prototype.toString=function(){return this.x+"px "+this.y+"px"};var $=function(t,e,n){var i;return function(){var o=this,a=arguments,r=function(){i=null,n||t.apply(o,a)},s=n&&!i;clearTimeout(i),i=setTimeout(r,e),s&&t.apply(o,a)}}(C,500),V={type:"canvas",format:"png",quality:1},Q=["jpeg","webp","png"];if(window.jQuery){var J=window.jQuery;J.fn.croppie=function(t){if("string"==typeof t){var e=Array.prototype.slice.call(arguments,1),n=J(this).data("croppie");return"get"===t?n.get():"result"===t?n.result.apply(n,e):"bind"===t?n.bind.apply(n,e):this.each(function(){var n=J(this).data("croppie");if(n){var i=n[t];if(!J.isFunction(i))throw"Croppie "+t+" method not found";i.apply(n,e),"destroy"===t&&J(this).removeData("croppie")}})}return this.each(function(){var e=new O(this,t);e.$=J,J(this).data("croppie",e)})}}O.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},O.globals={translate:"translate3d"},o(O.prototype,{bind:function(t,e){return M.call(this,t,e)},get:function(){var t=P.call(this),e=t.points;return this.options.relative&&(e[0]/=this.elements.img.naturalWidth/100,e[1]/=this.elements.img.naturalHeight/100,e[2]/=this.elements.img.naturalWidth/100,e[3]/=this.elements.img.naturalHeight/100),t},result:function(t){return T.call(this,t)},refresh:function(){return L.call(this)},setZoom:function(t){f.call(this,t),a(this.elements.zoomer)},rotate:function(t){N.call(this,t)},destroy:function(){return Z.call(this)}}),e.Croppie=window.Croppie=O,"object"==typeof t&&t.exports&&(t.exports=O)})}).call(e,n(137).setImmediate)},893:function(t,e,n){e=t.exports=n(866)(),e.push([t.i,".file-btn[data-v-06e851e8]{position:relative}.file-btn input[type=file][data-v-06e851e8]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0}input[type=file][data-v-06e851e8]{cursor:pointer}.upload-box[data-v-06e851e8]{min-height:300px;text-align:center}.upload-box a[data-v-06e851e8]{margin-top:130px}.btn-block-50[data-v-06e851e8]{width:48%}.croppie-modal[data-v-06e851e8]{z-index:10}","",{version:3,sources:["/Users/igortrindade/Code/isaudavel-front/src/components/photo-uploader.vue"],names:[],mappings:"AACA,2BACI,iBAAmB,CACtB,AACD,4CACI,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,SAAW,CACd,AACD,kCACI,cAAgB,CACnB,AACD,6BACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,+BACI,gBAAkB,CACrB,AACD,+BACI,SAAW,CACd,AACD,gCACI,UAAY,CACf",file:"photo-uploader.vue",sourcesContent:['\n.file-btn[data-v-06e851e8] {\n    position: relative;\n}\n.file-btn input[type="file"][data-v-06e851e8] {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    opacity: 0;\n}\ninput[type="file"][data-v-06e851e8] {\n    cursor: pointer;\n}\n.upload-box[data-v-06e851e8] {\n    min-height: 300px;\n    text-align: center;\n}\n.upload-box a[data-v-06e851e8] {\n    margin-top: 130px;\n}\n.btn-block-50[data-v-06e851e8] {\n    width: 48%;\n}\n.croppie-modal[data-v-06e851e8] {\n    z-index: 10;\n}\n\n'],sourceRoot:""}])},894:function(t,e,n){var i=n(893);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(867)("94831496",i,!0)},895:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isvisible?n("div",{staticClass:"modal-wp-wrapper"},[n("div",{staticClass:"wp-overlay"}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 col-md-offset-3 col-xs-12 "},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isvisible,expression:"isvisible"}],staticClass:"modal-wp"},[n("div",{staticClass:"modal-wp-dialog"},[n("div",{staticClass:"modal-wp-header"},[n("h2",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v("Enviar imagem\n                            "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.close()}}},[t._m(0)])])]),t._v(" "),n("div",{staticClass:"modal-wp-body"},[n("div",{staticClass:"upload-box",attrs:{id:"upload-box"}},[n("a",{staticClass:"btn btn-primary waves-effect file-btn btn-lg"},[t._v("\n                                Selecione um arquivo\n                                "),n("input",{attrs:{type:"file",value:"Select a file",accept:"image/*"},on:{change:function(e){t.loadFile(e)}}})])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v("Cancelar")])])])])])])]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{"aria-hidden":"true"}},[n("i",{staticClass:"fa fa-close"})])}]}}});
//# sourceMappingURL=29.17fda8e47d25e9057a9e.js.map