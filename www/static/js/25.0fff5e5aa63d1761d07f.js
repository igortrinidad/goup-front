webpackJsonp([25],{1026:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a(9),i=a.n(e),s=a(19),o=a(10),r=a.n(o),c=a(362),l=a.n(c),u=a(901),m=a.n(u),d=a(867),p=a(365),f=a.n(p);t.default={name:"landing-rating-company",components:{mainHeader:r.a,ratingSimple:l.a,ratingList:m.a},data:function(){return{company:a.i(d.a)(),interactions:{share:!1,showRating:!1,already_rated:!1},newRating:{client_id:"",company_id:"",rating:5,content:""}}},computed:i()({},a.i(s.b)(["isLogged","currentUser","checkRole","selectedCompany"])),mounted:function(){this.getCompany()},methods:i()({},a.i(s.a)(["addClientCompany","removeClientCompany","setSelectedCompany","addSelectedCompanyNewRating"]),{getCompany:function(){var n=this;n.$http.get("company/show/"+n.$route.params.company_slug).then(function(t){n.company=t.data.company,n.setSelectedCompany(t.data.company)}).catch(function(n){console.log(n)})},checkRating:function(){var n=this;n.$http.post("/client/professional/rating/check",{slug:n.$route.params.professional_slug}).then(function(t){n.interactions.already_rated=t.data.already_rated}).catch(function(n){console.log(n)})},setRating:function(n){this.newRating.rating=n},saveRating:function(){var n=this;n.newRating.client_id=n.currentUser.id,n.newRating.company_id=n.company.id,n.$http.post("client/company/rating/create",n.newRating).then(function(t){successNotify("","Avaliação salva com sucesso"),n.newRating.content="",n.interactions.showRating=!1,n.interactions.already_rated=!0,n.getCompany(),n.setSelectedCompanyRating({current_rating:t.data.company.current_rating,total_rating:t.data.company.total_rating})}).catch(function(n){console.log(n)})},handleUnauthenticated:function(){var n=this;this.isLogged?(n.interactions.showRating=!0,setTimeout(function(){$("#new-rating-input").focus()},100)):n.$swal({title:"Login",text:"Você precisar estar logado como cliente para avaliar um profissional, desejar efetuar o login?",type:"info",showCancelButton:!0,confirmButtonText:"Entrar",confirmButtonColor:"#00A369",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(){return n.$router.push({name:"client.auth.login",query:{redirect:n.$route.path}}),!1}).catch(function(){})},handleCopyLink:function(){successNotify("","Link copiado com sucesso"),f()("https://isaudavel.com/empresas/"+this.company.slug),this.interactions.share=!1},openShareWhatsapp:function(){var n=this;if(n.isLogged)var t="https://api.whatsapp.com/send?text=Encontrei a empresa "+n.company.name+" no aplicativo iSaudavel, veja também seu perfil profissional: https://isaudavel.com/empresas/"+n.company.slug;this.interactions.share=!1,window.open(t,"_system",null)},openShareFacebook:function(){var n=this,t="https://www.facebook.com/dialog/share?app_id=1854829291449231&href=https://isaudavel.com/empresas/"+n.company.slug+"&display=popup&mobile_iframe=true";if(window.cordova){var a=window.open(t,"_blank","location=yes");a.addEventListener("loadstart",function(n){-1!==n.url.indexOf("https://www.facebook.com/dialog/return/close")&&(a.close(),successNotify("","Evento compartilhado com sucesso!"))})}else window.open(t,"_blank","location=yes");this.interactions.share=!1}})}},1198:function(n,t,a){t=n.exports=a(859)(),t.push([n.i,".share-container[data-v-7ac65c06]{position:fixed;width:100vw;height:100vh;background:transparent;top:0;left:0;right:0;bottom:0;z-index:99}.share-buttons[data-v-7ac65c06]{position:absolute;top:40px;width:120px;left:50%;z-index:111;margin-left:-60px}","",{version:3,sources:["/Users/igortrindade/Code/goup-front/src/modules/general/companies/components/rating.vue"],names:[],mappings:"AA+UA,kCACI,eAAgB,AAChB,YAAa,AACb,aAAc,AACd,uBAAwB,AACxB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,SAAU,AACV,UAAY,CACf,AACD,gCACI,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,SAAU,AACV,YAAa,AACb,iBAAmB,CACtB",file:"rating.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Share */\n.share-container[data-v-7ac65c06] {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    background: transparent;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 99;\n}\n.share-buttons[data-v-7ac65c06] {\n    position: absolute;\n    top: 40px;\n    width: 120px;\n    left: 50%;\n    z-index: 111;\n    margin-left: -60px;\n}\n.share-icon[data-v-7ac65c06] {\n}\n\n"],sourceRoot:""}])},1296:function(n,t,a){var e=a(1198);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a(860)("e81b33ba",e,!0)},1479:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"first-container"},[a("main-header",{attrs:{type:"center",title:n.company.name,cursor:!1,action:function(){return!1},hasback:!0}}),n._v(" "),a("div",{staticClass:"wrapper primary fixtop p-t-10 p-b-30"},[a("img",{staticClass:"avatar ls center",attrs:{src:n.company.avatar,alt:n.company.name}}),n._v(" "),a("div",{staticClass:"text-center p-relative"},[a("div",{staticClass:"container m-t-15 text-center"},[a("button",{staticClass:"btn btn-xs btn-light m-b-20 f-15",attrs:{type:"button"},on:{click:function(t){n.interactions.share=!n.interactions.share}}},[a("i",{staticClass:"ion-android-share-alt"}),n._v(" Compartilhar\n                ")])]),n._v(" "),n.interactions.share?a("div",{staticClass:"share-container",on:{click:function(t){n.interactions.share=!1}}}):n._e(),n._v(" "),n.interactions.share?a("div",{staticClass:"share-buttons"},[a("div",{staticClass:"card"},[a("button",{staticClass:"btn btn-whatsapp btn-xs btn-block f-300 f-14",attrs:{type:"button"},on:{click:function(t){n.openShareWhatsapp()}}},[a("i",{staticClass:"ion-social-whatsapp m-r-5"}),n._v("\n                        Whatsapp\n                    ")]),n._v(" "),a("button",{staticClass:"btn btn-facebook btn-xs btn-block f-300 f-14",attrs:{type:"button"},on:{click:function(t){n.openShareFacebook()}}},[a("i",{staticClass:"ion-social-facebook m-r-5"}),n._v("\n                        Facebook\n                    ")]),n._v(" "),a("button",{staticClass:"btn btn-success btn-xs btn-block f-300 f-14",attrs:{type:"button"},on:{click:function(t){n.handleCopyLink()}}},[a("i",{staticClass:"ion-ios-copy m-r-5"}),n._v("\n                        Copiar link\n                    ")])])]):n._e()])]),n._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"card m-t-20"},[a("div",{staticClass:"card-body card-padding text-center"},[a("p",{staticClass:"f-16"},[n._v("Sua avaliação é muito importante para o profissional "+n._s(n.company.name)+".")]),n._v(" "),a("p",{staticClass:"f-16"},[n._v("Veja abaixo o que os outros clientes dizem sobre "+n._s(n.company.name)+".")])])]),n._v(" "),n._m(0),n._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body card-padding"},[a("div",{staticClass:"text-center"},[a("rating-simple",{attrs:{value:n.company.current_rating,max:5,size:3},on:{"update:value":function(t){n.company.current_rating=t}}}),n._v(" "),a("span",{staticClass:"f-300 f-16"},[n._v("\n                        "+n._s(n.company.current_rating)+"\n                        de\n                        "+n._s(n.company.total_rating)+"\n                        avaliações\n                    ")])],1)])])]),n._v(" "),a("div",{staticClass:"container m-t-10"},[n.interactions.showRating?n._e():a("button",{staticClass:"btn btn-block btn-info",on:{click:function(t){n.handleUnauthenticated()}}},[n._v("\n            Fazer uma avaliação\n        ")]),n._v(" "),n.interactions.showRating?a("div",{staticClass:"card m-t-20"},[a("div",{staticClass:"card-body card-padding"},[a("p",{staticClass:"text-center"},[n._v("Faça uma avaliação para "+n._s(n.company.name))]),n._v(" "),a("rating-simple",{attrs:{value:n.newRating.rating,max:5,size:3,disabled:!1},on:{"update:value":function(t){n.newRating.rating=t},"rating-changed":n.setRating}}),n._v(" "),a("p",{staticClass:"f-12 text-center"},[n._v("Clique acima para selecionar")]),n._v(" "),a("div",{staticClass:"form-group"},[a("label",[n._v("\n                        Comentários\n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.newRating.content.length<120,expression:"newRating.content.length < 120"}]},[n._v("\n                            (faltam "+n._s(120-n.newRating.content.length)+" caracteres)\n                        ")])]),n._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:n.newRating.content,expression:"newRating.content"}],staticClass:"form-control",attrs:{id:"new-rating-input",placeholder:"Digite uma mensagem para a avaliação."},domProps:{value:n.newRating.content},on:{input:function(t){t.target.composing||(n.newRating.content=t.target.value)}}})]),n._v(" "),a("button",{staticClass:"btn btn-block btn-info btn-sm m-t-20",attrs:{disabled:n.newRating.content.length<120},on:{click:function(t){n.saveRating()}}},[n._v("\n                    Salvar avaliação\n                ")]),n._v(" "),a("button",{staticClass:"btn btn-block btn-default btn-sm m-t-10",on:{click:function(t){n.interactions.showRating=!1}}},[n._v("\n                    Cancelar\n                ")])],1)]):n._e()]),n._v(" "),a("div",{staticClass:"container m-t-20"},[a("h3",{staticClass:"f-300 m-b-10 text-center"},[n._v("Últimas avaliações")]),n._v(" "),a("div",{staticClass:"card m-t-30"},[a("div",{staticClass:"card-body card-padding text-center"},[a("rating-list",{attrs:{ratings:n.company.last_ratings}})],1)])])],1)},staticRenderFns:[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"col-sm-12 text-center"},[a("h3",{staticClass:"f-300 m-b-20"},[n._v("Avaliações")])])}]}},393:function(n,t,a){a(1296);var e=a(2)(a(1026),a(1479),"data-v-7ac65c06",null);n.exports=e.exports},861:function(n,t){function a(){}function e(n,t){return Math.floor(Math.random()*(t-n+1))+n}a.maxFromBits=function(n){return Math.pow(2,n)},a.limitUI04=a.maxFromBits(4),a.limitUI06=a.maxFromBits(6),a.limitUI08=a.maxFromBits(8),a.limitUI12=a.maxFromBits(12),a.limitUI14=a.maxFromBits(14),a.limitUI16=a.maxFromBits(16),a.limitUI32=a.maxFromBits(32),a.limitUI40=a.maxFromBits(40),a.limitUI48=a.maxFromBits(48),a.randomUI04=function(){return e(0,a.limitUI04-1)},a.randomUI06=function(){return e(0,a.limitUI06-1)},a.randomUI08=function(){return e(0,a.limitUI08-1)},a.randomUI12=function(){return e(0,a.limitUI12-1)},a.randomUI14=function(){return e(0,a.limitUI14-1)},a.randomUI16=function(){return e(0,a.limitUI16-1)},a.randomUI32=function(){return e(0,a.limitUI32-1)},a.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},a.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},a.paddedString=function(n,t,a){n=String(n),a=a||"0";for(var e=t-n.length;e>0;e>>>=1,a+=a)1&e&&(n=a+n);return n},a.prototype.fromParts=function(n,t,e,i,s,o){return this.version=e>>12&15,this.hex=a.paddedString(n.toString(16),8)+"-"+a.paddedString(t.toString(16),4)+"-"+a.paddedString(e.toString(16),4)+"-"+a.paddedString(i.toString(16),2)+a.paddedString(s.toString(16),2)+"-"+a.paddedString(o.toString(16),12),this},a.prototype.toString=function(){return this.hex},a.prototype.toURN=function(){return"urn:uuid:"+this.hex},a.prototype.toBytes=function(){for(var n=this.hex.split("-"),t=[],a=0,e=0;e<n.length;e++)for(var i=0;i<n[e].length;i+=2)t[a++]=parseInt(n[e].substr(i,2),16);return t},a.prototype.equals=function(n){return n instanceof UUID&&this.hex===n.hex},a.getTimeFieldValues=function(n){var t=n-Date.UTC(1582,9,15),a=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&a,hi:a>>>16,timestamp:t}},a._create4=function(){return(new a).fromParts(a.randomUI32(),a.randomUI16(),16384|a.randomUI12(),128|a.randomUI06(),a.randomUI08(),a.randomUI48())},a._create1=function(){var n=(new Date).getTime(),t=a.randomUI14(),e=1099511627776*(1|a.randomUI08())+a.randomUI40(),i=a.randomUI04(),s=0;n!=s?(n<s&&t++,s=n,i=a.randomUI04()):Math.random()<.25&&i<9984?i+=1+a.randomUI04():t++;var o=a.getTimeFieldValues(s),r=o.low+i,c=4095&o.hi|4096;t&=16383;var l=t>>>8|128,u=255&t;return(new a).fromParts(r,o.mid,c,l,u,e)},a.create=function(n){return n=n||4,this["_create"+n]()},a.fromTime=function(n,t){t=t||!1;var e=a.getTimeFieldValues(n),i=e.low,s=4095&e.hi|4096;return!1===t?(new a).fromParts(i,e.mid,s,0,0,0):(new a).fromParts(i,e.mid,s,128|a.limitUI06,a.limitUI08-1,a.limitUI48-1)},a.firstFromTime=function(n){return a.fromTime(n,!1)},a.lastFromTime=function(n){return a.fromTime(n,!0)},a.fromURN=function(n){var t;return(t=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(n))?(new a).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},a.fromBytes=function(n){if(n.length<5)return null;for(var t="",e=0,i=[4,2,2,2,6],s=0;s<i.length;s++){for(var o=0;o<i[s];o++){var r=n[e++].toString(16);1==r.length&&(r="0"+r),t+=r}6!==i[s]&&(t+="-")}return a.fromURN(t)},a.fromBinary=function(n){for(var t=[],e=0;e<n.length;e++)if(t[e]=n.charCodeAt(e),t[e]>255||t[e]<0)throw new Error("Unexpected byte in binary data.");return a.fromBytes(t)},a.new=function(){return this.create(4)},a.newTS=function(){return this.create(1)},n.exports=a},862:function(n,t,a){"use strict";function e(){return{id:o.create().toString(),name:"",last_name:"",email:"",slug:"",avatar:"",password:"",remember_token:"",created_at:"",updated_at:"",full_name:"",photos:[],companies:[],certifications:[],current_rating:0,total_rating:0,last_ratings:[],calendar_settings:{slot_duration:60,is_active:!0,workdays:[],unavailable_dates_range:[]}}}function i(){return{name:"",last_name:"",email:"",phone:"",bday:"",categories:[]}}t.a=e,t.c=i;var s=a(864),o=a(861);t.b={id:o.create().toString(),name:"John",last_name:"Doe",email:"john@doe.com",slug:"",avatar:"https://isaudavel-development.s3.amazonaws.com/assets/isaudavel_holder850.png",functions:["Massagista"],password:"",remember_token:"",created_at:"",updated_at:"",full_name:"John Doe",current_rating:4,total_rating:0,categories:s.a,companies:[],photos:[],professional_workdays:[],certifications:[],last_ratings:[]}},863:function(n,t,a){"use strict";function e(){return{name:"Pilates",slug:"Pilates",is_active:!0,calendar_settings:{is_professional_scheduled:!1,wordkays:[]},professionals:[a.i(i.a)(),a.i(i.a)()]}}t.a=e;var i=a(862)},864:function(n,t,a){"use strict";a(863);t.a=[{name:"Pilates",slug:"pilates"},{name:"Personal Trainer",slug:"personal"},{name:"Nutrição",slug:"nutricao"},{name:"Fisioterapia",slug:"fisioterapia"},{name:"Massagem",slug:"massagem"},{name:"Saúde",slug:"saude"}]},867:function(n,t,a){"use strict";function e(){return{id:i.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!1,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:0,lng:0,city:"",state:"",current_rating:0,clients:[],photos:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}}t.a=e;var i=(a(862),a(864),a(870),a(863),a(861));t.b={id:i.create().toString(),avatar:"https://s3.amazonaws.com/isaudavel-assets/img/isaudavel_holder550.png",owner_id:"",is_active:!0,name:"",slug:"1",website:"",phone:"",description:"",address_is_available:!0,is_delivery:!1,address:{name:"",full_address:"",url:""},lat:-19.8725915,lng:-43.9710057,city:"",state:"",current_rating:4,photos:[],clients:[],categories:[],professionals:[],public_confirmed_professionals:[],last_ratings:[]}},870:function(n,t,a){"use strict"},895:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"rating-list",components:{ratingSimple:a(362)},props:{ratings:{type:Array}},data:function(){return{}},mounted:function(){},methods:{}}},897:function(n,t,a){t=n.exports=a(859)(),t.push([n.i,"","",{version:3,sources:[],names:[],mappings:"",file:"rating-list.vue",sourceRoot:""}])},898:function(n,t,a){var e=a(897);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a(860)("0ac66dc0",e,!0)},901:function(n,t,a){a(898);var e=a(2)(a(895),a(902),"data-v-78a103f2",null);n.exports=e.exports},902:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",[a("div",{staticClass:"row"},n._l(n.ratings,function(t,e){return a("div",{staticClass:"col-md-12 col-xs-12 text-left"},[a("div",{staticClass:"col-xs-12 col-md-12 text-center"},[a("div",{staticClass:"picture-circle",style:"background-image:url('"+t.client.avatar+"')"})]),n._v(" "),a("div",{staticClass:"col-xs-12 col-md-12 text-center"},[a("h4",[n._v(n._s(t.client.full_name))])]),n._v(" "),a("div",{staticClass:"col-xs-12 col-md-12 text-center"},[a("rating-simple",{staticClass:"m-t-15",attrs:{value:t.rating,max:5,size:1},on:{"update:value":function(n){t.rating=n}}})],1),n._v(" "),a("div",{staticClass:"col-xs-12 col-md-12 text-center"},[a("p",[n._v(n._s(t.content))]),n._v(" "),a("p",{staticClass:"f-12 m-t-0"},[a("i",{staticClass:"ion-ios-clock-outline"}),n._v("\n                    "+n._s(n._f("moment")(t.created_at,"DD/MM/YYYY HH:mm:ss")))])])])}))])},staticRenderFns:[]}}});
//# sourceMappingURL=25.0fff5e5aa63d1761d07f.js.map