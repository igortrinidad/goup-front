webpackJsonp([38],{1067:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),r=n.n(a),s=n(19),o=n(10),i=n.n(o),c=n(874),l=n.n(c),u=n(0),d=n.n(u),f=n(865),p=(n.n(f),n.i(f.extendMoment)(d.a));e.default={name:"company-calendar-show-day",components:{mainHeader:i.a,calendar:l.a},data:function(){return{interactions:{rescheduler:!1,CardsOpened:[],selectedTimesOpened:[]},daySchedules:[],current_dow:"",reschudle_dow:"",professionals_calendar_settings:[],schedules:[],old_schedule_data:{},reschedule_data:{},selected_date:"",slot_workdays:[],selectedSlot:null}},computed:r()({},n.i(s.b)(["selectedCategory","currentUser","selectedDaySchedules","categoryCalendarSettings"])),mounted:function(){_.isEmpty(this.selectedCategory)&&this.$router.push({name:"admin.companies.show",params:{company_id:this.$route.params.company_id}}),this.current_dow=p(this.$route.params.day,"DD/MM/YYYY").day(),this.handleDaySchedules()},methods:r()({},n.i(s.a)(["addOnMonthSchedules","addOnSelectedDaySchedules","removeFromMonthSchedules","removeFromSelectedDaySchedules"]),{handleShowSchedule:function(t){var e=this;e.$router.push({name:"admin.companies.calendar.show.schedule",params:{company_id:e.$route.params.company_id,schedule_id:t}})},handleShowSingleSchedule:function(t){var e=this;e.$router.push({name:"admin.companies.calendar.show.single-schedule",params:{company_id:e.$route.params.company_id,single_schedule_id:t}})},handleSelectedTime:function(t,e){var n=this,a=_.findIndex(n.interactions.selectedTimesOpened,{professional_id:t});if(a>-1){var r=n.interactions.selectedTimesOpened[a].times.indexOf(e);r>-1?n.interactions.selectedTimesOpened[a].times.splice(r,1):n.interactions.selectedTimesOpened[a].times.push(e)}else n.interactions.selectedTimesOpened.push({professional_id:t,times:[e]})},handleTimeVisibility:function(t,e){var n=this,a=_.findIndex(n.interactions.selectedTimesOpened,{professional_id:t});if(a>-1){if(n.interactions.selectedTimesOpened[a].times.indexOf(e)>-1)return!0}return!1},handleDaySchedules:function(){var t=this,e=[];_.cloneDeep(t.selectedDaySchedules).map(function(t){t.schedules_count=0,t.workdays.map(function(e){e.schedules=[],e.is_unavaiable=t.is_unavaiable}),t.schedules.map(function(e){var n=p(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss").format("HH:mm"),a=_.findIndex(t.workdays,{init:n});if(t.workdays[a])t.workdays[a].schedules.push(e),t.schedules_count++;else{var r=_.findIndex(t.workdays,{init:n});if(r>-1)t.workdays[r].schedules.push(e),t.schedules_count++;else{var s={init:n,dow:p(e.date+" "+e.time,"DD/MM/YYYY HH:mm:ss").day(),schedules:[],workday_changed:!0};s.schedules.push(e),t.schedules_count++,t.workdays.push(s)}}}),t.workdays=_.orderBy(t.workdays,["init"],["asc"]),delete t.schedules,e.push(t)}),e=_.orderBy(e,["name"],["asc"]),t.daySchedules=e},toggleSelected:function(t){var e=this.interactions.CardsOpened.indexOf(t);e>-1?this.interactions.CardsOpened.splice(e,1):this.interactions.CardsOpened.push(t)}})}},1199:function(t,e,n){e=t.exports=n(859)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"show-day.vue",sourceRoot:""}])},1297:function(t,e,n){var a=n(1199);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(860)("9e56538e",a,!0)},1480:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container m-t-30"},[n("div",{staticClass:"first-container"},[n("main-header",{attrs:{type:"center",title:"Dia "+t.$route.params.day,cursor:!1,action:function(){return!1},hasback:!0}}),t._v(" "),n("div",{staticClass:"container"},[t.daySchedules.length?t._e():n("div",{staticClass:"card text-center"},[n("div",{staticClass:"card-body card-padding"},[n("i",{staticClass:"d-block ion-sad-outline f-24"}),t._v(" "),n("span",{staticClass:"f-300"},[t._v("Não encontramos nenhum profissional ou especialidade com agenda para este dia.")]),t._v(" "),n("router-link",{staticClass:"btn btn-info btn-block m-t-20",attrs:{tag:"button",to:{name:"admin.companies.calendar.show",params:{company_id:t.$route.params.company_id,category_slug:t.selectedCategory.slug}}}},[t._v("\n                        Voltar para agenda\n                    ")])],1)]),t._v(" "),t.daySchedules.length?n("h4",{staticClass:"text-center f-300 m-b-30"},[t._v("\n                Selecione um profissional ou especialidade para verificar os agendamentos do dia\n            ")]):t._e(),t._v(" "),t._l(t.daySchedules,function(e,a){return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header ch-alt cursor-pointer",on:{click:function(n){t.toggleSelected(e.id)}}},[n("span",{staticClass:"f-300 f-22"},[e.full_name?n("span",[t._v(t._s(e.full_name))]):t._e(),t._v(" "),!e.full_name&&e.category?n("span",[t._v(t._s(e.category.name))]):t._e(),t._v(" "),n("span",{staticClass:"badge badge-primary"},[t._v(t._s(e.schedules_count))])]),t._v(" "),n("span",{staticClass:"control-header"},[t.interactions.CardsOpened.indexOf(e.id)<0?n("i",{staticClass:"ion-ios-arrow-down f-22"}):t._e(),t._v(" "),t.interactions.CardsOpened.indexOf(e.id)>-1?n("i",{staticClass:"ion-ios-arrow-up f-22"}):t._e()])]),t._v(" "),t.interactions.CardsOpened.indexOf(e.id)>-1?n("div",{staticClass:"card-body card-padding"},t._l(e.workdays,function(a,r){return n("div",{class:{"border-inside-card":!0,"m-t-0":0===r,"m-t-10":r>0}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 col-xs-12 text-center cursor-pointer",on:{click:function(n){n.preventDefault(),t.handleSelectedTime(e.id,a.init)}}},[n("i",{staticClass:"ion-ios-clock-outline f-26"}),t._v(" "),n("h4",{staticClass:"m-t-0 f-300 f-26"},[t._v(t._s(a.init))]),t._v(" "),n("span",{staticClass:"btn btn-xs f-14",class:a.schedules.length?"btn-primary":"btn-default"},[a.schedules.length?n("span",[t._v(t._s(t.handleTimeVisibility(e.id,a.init)?"Esconder":"Mostrar"))]):t._e(),t._v("\n                                    "+t._s(a.schedules.length?a.schedules.length:"Nenhum")+"\n                                    "+t._s(a.schedules.length>1?"agendamentos":"agendamento")+"\n                                    "),n("br")])])]),t._v(" "),t.handleTimeVisibility(e.id,a.init)?n("div",t._l(a.schedules,function(e,a){return n("div",{staticClass:"border-inside-card gray m-5 m-t-10"},[n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12 col-xs-12"},[n("p",{staticClass:"m-b-0"},[t._v("Cliente")]),t._v(" "),n("h4",{staticClass:"m-t-0 f-300"},[t._v(t._s(e.client.full_name))])])]),t._v(" "),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12 col-xs-12"},[e.is_fake?n("span",{staticClass:"label p-5 p-l-15 p-r-15 label-info"},[t._v("Bloqueado")]):t._e(),t._v(" "),e.is_trial?n("span",{staticClass:"label p-5 p-l-15 p-r-15 label-primary"},[t._v("Aula experimental")]):t._e(),t._v(" "),e.is_confirmed||e.is_canceled||e.is_fake?t._e():n("span",{staticClass:"label p-5 p-l-15 p-r-15 label-default"},[t._v("Aguardando")]),t._v(" "),!e.is_confirmed||e.is_canceled||e.is_fake?t._e():n("span",{staticClass:"label p-5 p-l-15 p-r-15 label-success"},[t._v("Realizado")]),t._v(" "),e.is_confirmed||!e.is_canceled||e.is_fake?t._e():n("span",{staticClass:"label p-5 p-l-15 p-r-15 label-danger"},[t._v("Cancelado")])]),t._v(" "),n("div",{staticClass:"col-md-12 col-xs-12 m-t-10"},[e.is_single?t._e():n("button",{staticClass:"btn btn-info btn-xs btn-block",attrs:{type:"button",disabled:!e.id},on:{click:function(n){t.handleShowSchedule(e.id)}}},[t._v("\n                                            Visualizar agendamento\n                                        ")]),t._v(" "),e.is_single?n("button",{staticClass:"btn btn-info btn-xs btn-block",attrs:{type:"button"},on:{click:function(n){t.handleShowSingleSchedule(e.id)}}},[t._v("\n                                            Visualizar agendamento\n                                        ")]):t._e()])])])})):t._e()])})):t._e()])})],2)],1)])},staticRenderFns:[]}},415:function(t,e,n){n(1297);var a=n(2)(n(1067),n(1480),"data-v-7b51292e",null);t.exports=a.exports},865:function(t,e,n){!function(e,a){t.exports=a(n(0))}(0,function(t){return function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}([function(t,e,n){"use strict";t.exports=n(15)()?Symbol:n(17)},function(e,n){e.exports=t},function(t,e,n){"use strict";var a,r=n(3),s=n(10),o=n(6),i=n(12);a=t.exports=function(t,e){var n,a,o,c,l;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=o=!0,a=!1):(n=i.call(t,"c"),a=i.call(t,"e"),o=i.call(t,"w")),l={value:e,configurable:n,enumerable:a,writable:o},c?r(s(c),l):l},a.gs=function(t,e,n){var a,c,l,u;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(l=n,n=void 0):(l=e,e=n=void 0),null==t?(a=!0,c=!1):(a=i.call(t,"c"),c=i.call(t,"e")),u={get:e,set:n,configurable:a,enumerable:c},l?r(s(l),u):u}},function(t,e,n){"use strict";t.exports=n(4)()?Object.assign:n(5)},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var a=n(7),r=n(11),s=Math.max;t.exports=function(t,e){var n,o,i,c=s(arguments.length,2);for(t=Object(r(t)),i=function(a){try{t[a]=e[a]}catch(t){n||(n=t)}},o=1;o<c;++o)e=arguments[o],a(e).forEach(i);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(8)()?Object.keys:n(9)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var a=Object.keys;t.exports=function(t){return a(null==t?t:Object(t))}},function(t,e,n){"use strict";var a=Array.prototype.forEach,r=Object.create,s=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=r(null);return a.call(arguments,function(t){null!=t&&s(Object(t),e)}),e}},function(t,e,n){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(13)()?String.prototype.contains:n(14)},function(t,e,n){"use strict";var a="razdwatrzy";t.exports=function(){return"function"==typeof a.contains&&(!0===a.contains("dwa")&&!1===a.contains("foo"))}},function(t,e,n){"use strict";var a=String.prototype.indexOf;t.exports=function(t){return a.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var a={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!a[typeof Symbol.iterator]&&(!!a[typeof Symbol.toPrimitive]&&!!a[typeof Symbol.toStringTag])}},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var a,r,s,o,i=n(2),c=n(18),l=Object.create,u=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=l(null);if("function"==typeof Symbol){a=Symbol;try{String(a()),o=!0}catch(t){}}var h=function(){var t=l(null);return function(e){for(var n,a,r=0;t[e+(r||"")];)++r;return e+=r||"",t[e]=!0,n="@@"+e,d(f,n,i.gs(null,function(t){a||(a=!0,d(this,n,i(t)),a=!1)})),n}}();s=function(t){if(this instanceof s)throw new TypeError("TypeError: Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return o?a(e):(n=l(s.prototype),e=void 0===e?"":String(e),u(n,{__description__:i("",e),__name__:i("",h(e))}))},u(r,{for:i(function(t){return p[t]?p[t]:p[t]=r(String(t))}),keyFor:i(function(t){var e;c(t);for(e in p)if(p[e]===t)return e}),hasInstance:i("",a&&a.hasInstance||r("hasInstance")),isConcatSpreadable:i("",a&&a.isConcatSpreadable||r("isConcatSpreadable")),iterator:i("",a&&a.iterator||r("iterator")),match:i("",a&&a.match||r("match")),replace:i("",a&&a.replace||r("replace")),search:i("",a&&a.search||r("search")),species:i("",a&&a.species||r("species")),split:i("",a&&a.split||r("split")),toPrimitive:i("",a&&a.toPrimitive||r("toPrimitive")),toStringTag:i("",a&&a.toStringTag||r("toStringTag")),unscopables:i("",a&&a.unscopables||r("unscopables"))}),u(s.prototype,{constructor:i(r),toString:i("",function(){return this.__name__})}),u(r.prototype,{toString:i(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:i(function(){return c(this)})}),d(r.prototype,r.toPrimitive,i("",function(){var t=c(this);return"symbol"==typeof t?t:t.toString()})),d(r.prototype,r.toStringTag,i("c","Symbol")),d(s.prototype,r.toStringTag,i("c",r.prototype[r.toStringTag])),d(s.prototype,r.toPrimitive,i("c",r.prototype[r.toPrimitive]))},function(t,e,n){"use strict";var a=n(16);t.exports=function(t){if(!a(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return t.range=function(e,n){var a=this;return h.hasOwnProperty(e)?new v(t(a).startOf(e),t(a).endOf(e)):new v(e,n)},t.fn.range=t.range,t.range.constructor=v,t.fn.within=function(t){return t.contains(this.toDate())},t}Object.defineProperty(e,"__esModule",{value:!0}),e.DateRange=void 0;var i=function(){function t(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,s=t}finally{try{!a&&i.return&&i.return()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();e.extendMoment=o;var u=n(1),d=a(u),f=n(0),p=a(f),h={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},v=e.DateRange=function(){function t(e,n){s(this,t);var a=e,r=n;if(1===arguments.length||void 0===n)if("object"===(void 0===e?"undefined":c(e))&&2===e.length){var o=i(e,2);a=o[0],r=o[1]}else if("string"==typeof e){var l=e.split("/"),u=i(l,2);a=u[0],r=u[1]}this.start=null===a?(0,d.default)(-864e13):(0,d.default)(a),this.end=null===r?(0,d.default)(864e13):(0,d.default)(r)}return l(t,[{key:"adjacent",value:function(t){var e=this.start.isSame(t.end),n=this.end.isSame(t.start);return e&&t.start.valueOf()<=this.start.valueOf()||n&&t.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(t){return this.overlaps(t)?new this.constructor(d.default.min(this.start,t.start),d.default.max(this.end,t.end)):null}},{key:"by",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return r({},p.default.iterator,function(){var a=e.exclusive||!1,r=e.step||1,s=Math.abs(n.start.diff(n.end,t))/r,o=0;return{next:function(){var e=n.start.clone().add(o*r,t),i=a?!(o<s):!(o<=s);return o++,{done:i,value:i?void 0:e}}}})}},{key:"byRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,a=e.step||1,s=this.valueOf()/t.valueOf()/a,o=e.exclusive||!1,i=Math.floor(s),c=0;return r({},p.default.iterator,function(){return i===1/0?{done:!0}:{next:function(){var e=(0,d.default)(n.start.valueOf()+t.valueOf()*c*a),r=i===s&&o?!(c<i):!(c<=i);return c++,{done:r,value:r?void 0:e}}}})}},{key:"center",value:function(){var t=this.start.valueOf()+this.diff()/2;return(0,d.default)(t)}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"contains",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1},a=this.start.valueOf(),r=this.end.valueOf(),s=e.valueOf(),o=e.valueOf();e instanceof t&&(s=e.start.valueOf(),o=e.end.valueOf());var i=a<s||a<=s&&!n.exclusive,c=r>o||r>=o&&!n.exclusive;return i&&c}},{key:"diff",value:function(t,e){return this.end.diff(this.start,t,e)}},{key:"duration",value:function(t,e){return this.diff(t,e)}},{key:"intersect",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),a=t.start.valueOf(),r=t.end.valueOf();return e<=a&&a<n&&n<r?new this.constructor(a,n):a<e&&e<r&&r<=n?new this.constructor(e,r):a<e&&e<=n&&n<r?this:e<=a&&a<=r&&r<=n?t:null}},{key:"isEqual",value:function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)}},{key:"isSame",value:function(t){return this.isEqual(t)}},{key:"overlaps",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(t);return e.adjacent&&!n?this.adjacent(t):n}},{key:"reverseBy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return r({},p.default.iterator,function(){var a=e.exclusive||!1,r=e.step||1,s=Math.abs(n.start.diff(n.end,t))/r,o=0;return{next:function(){var e=n.end.clone().subtract(o*r,t),i=a?!(o<s):!(o<=s);return o++,{done:i,value:i?void 0:e}}}})}},{key:"reverseByRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,a=e.step||1,s=this.valueOf()/t.valueOf()/a,o=e.exclusive||!1,i=Math.floor(s),c=0;return r({},p.default.iterator,function(){return i===1/0?{done:!0}:{next:function(){var e=(0,d.default)(n.end.valueOf()-t.valueOf()*c*a),r=i===s&&o?!(c<i):!(c<=i);return c++,{done:r,value:r?void 0:e}}}})}},{key:"subtract",value:function(t){var e=this.start.valueOf(),n=this.end.valueOf(),a=t.start.valueOf(),r=t.end.valueOf();return null===this.intersect(t)?[this]:a<=e&&e<n&&n<=r?[]:a<=e&&e<r&&r<n?[new this.constructor(r,n)]:e<a&&a<n&&n<=r?[new this.constructor(e,a)]:e<a&&a<r&&r<n?[new this.constructor(e,a),new this.constructor(r,n)]:e<a&&a<n&&r<n?[new this.constructor(e,a),new this.constructor(a,n)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),t}()}])})},871:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),r=n.n(a),s=n(0),o=n.n(s),i=n(865),c=(n.n(i),n(19)),l=n.i(i.extendMoment)(o.a);e.default={name:"calendar",props:{schedules:{type:Array,twoWay:!1}},data:function(){return{week_days:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],month_days:[],current_month:null,calendarLoaded:!1}},watch:{schedules:function(t,e){var n=this;t.length&&n.handleSchedules()}},computed:r()({},n.i(c.b)(["currentUser","currentCompany","selectedCategory"]),{today:function(){return l()}}),mounted:function(){var t=this;this.current_month=l("05:00:00","HH:mm:ss"),this.$nextTick(function(){t.getMonthDays()})},methods:{getMonthDays:function(){var t=this;this.calendarLoaded=!1;var e=l(this.current_month).startOf("month").day();e=e>0?l(this.current_month).startOf("month").subtract(e,"days"):l(this.current_month).startOf("month").add(5,"hours");var n=l(this.current_month).endOf("month").day();n=n>0?l(this.current_month).endOf("month").add(6-n,"days"):l(this.current_month).endOf("month"),t.month_days=[];for(var a=e;a.isBefore(n);a.add(1,"days"))t.month_days.push({day:a.format("DD/MM"),date:a.clone(),schedules_count:0,is_unavaiable:!1});setTimeout(function(){t.$emit("month-changed",{start:t.month_days[0].date,end:t.month_days[t.month_days.length-1].date}),t.calendarLoaded=!0},100)},handlePrevMonth:function(){this.current_month.subtract(1,"month"),this.month_days=[],this.getMonthDays()},handleNextMonth:function(){this.current_month.add(1,"month"),this.month_days=[],this.getMonthDays()},handleSlotDay:function(t,e){this.$emit("slot-selected",e)},handleSchedules:function(){var t=this;t.month_days.map(function(e){e.schedules_count=0,e.is_unavaiable=!1,e.is_professional_scheduled=!1,e.category_professionals=0,e.unavaiable_professionals=[],t.schedules.map(function(n){if(n.is_professional_scheduled&&"professional"==t.currentUser.role){n.unavailable_dates_range.map(function(t){var a=l().range(t.from,t.to);e.is_unavaiable=e.is_unavaiable?e.is_unavaiable:a.contains(e.date),e.unavaiable_professionals.push(n.professional)});var a=0;_.isEmpty(t.currentCompany)||t.currentCompany.professionals.map(function(e){e.categories.map(function(e){e.id===t.selectedCategory.id&&a++})}),e.category_professionals=a}e.schedules_count+=n.schedules.filter(function(t){return t.date===e.date.format("DD/MM/YYYY")}).length,e.unavaiable_professionals=_.uniq(e.unavaiable_professionals).length,e.is_professional_scheduled=n.is_professional_scheduled})})}}}},872:function(t,e,n){e=t.exports=n(859)(),e.push([t.i,".btn-transparent[data-v-1051dcca]{color:#fff!important}.col-wp-calendar-header[data-v-1051dcca]{background-color:rgba(51,51,51,.15);font-weight:600;font-weight:400}.col-wp-calendar-header[data-v-1051dcca],.col-wp-calendar[data-v-1051dcca]{width:14.2857%;padding:13px 1px 1px;border:1px solid #fff;text-align:center;vertical-align:center;height:50px;color:#383938}.col-wp-calendar[data-v-1051dcca]{background-color:#f4f5f5;font-weight:300}.col-wp-calendar[data-v-1051dcca]:hover{background-color:#88c657;cursor:pointer;color:#fff}.col-wp-calendar.not-current-month[data-v-1051dcca]{color:rgba(56,57,56,.3)}.col-wp-calendar.today[data-v-1051dcca]{background-color:#71c158;color:#fff;font-weight:700}.calendar-header[data-v-1051dcca]{background:linear-gradient(180deg,#6ec058 0,#88c657);display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;border:1px solid #fff;border-radius:4px 4px 0 0}.badge-calendar-wp[data-v-1051dcca]{display:block;width:18px;height:17px;position:absolute;top:2px;right:5px;color:#fff;padding:3px;background-color:#4a5464;font-size:9px;border-radius:50%}.unavaiable[data-v-1051dcca]{background:#f5404b!important;color:#fff}","",{version:3,sources:["/Users/igortrindade/Code/goup-front/src/components/calendar.vue"],names:[],mappings:"AACA,kCAAmC,oBAAuB,CACzD,AACD,yCAEI,oCAAwC,AAMxC,gBAAiB,AAEjB,eAAiB,CACpB,AACD,2EAXI,eAAgB,AAEhB,qBAA0B,AAC1B,sBAAwB,AACxB,kBAAmB,AACnB,sBAAuB,AACvB,YAAa,AAEb,aAAe,CAalB,AAVD,kCAEI,yBAA0B,AAO1B,eAAiB,CACpB,AACD,wCACI,yBAA0B,AAC1B,eAAgB,AAChB,UAAY,CACf,AAED,oDACI,uBAA4B,CAC/B,AAED,wCACI,yBAA2B,AAC3B,WAAY,AACZ,eAAiB,CACpB,AACD,kCACI,qDAAiE,AACjE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,YAAa,AACb,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,WAAY,AACZ,sBAAuB,AACvB,yBAA2B,CAC9B,AACD,oCACI,cAAe,AACf,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,WAAa,AACb,YAAa,AACb,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AACD,6BACI,6BAA+B,AAC/B,UAAY,CACf",file:"calendar.vue",sourcesContent:["\n.btn-transparent[data-v-1051dcca]{ color: #fff !important;\n}\n.col-wp-calendar-header[data-v-1051dcca]{\n    width: 14.2857%;\n    background-color: rgba(51, 51, 51, .15);\n    padding: 13px 1px 1px 1px;\n    border: 1px solid white;\n    text-align: center;\n    vertical-align: center;\n    height: 50px;\n    font-weight: 600;\n    color: #383938;\n    font-weight: 400;\n}\n.col-wp-calendar[data-v-1051dcca]{\n    width: 14.2857%;\n    background-color: #f4f5f5;\n    padding: 13px 1px 1px 1px;\n    border: 1px solid white;\n    text-align: center;\n    vertical-align: center;\n    height: 50px;\n    color: #383938;\n    font-weight: 300;\n}\n.col-wp-calendar[data-v-1051dcca]:hover{\n    background-color: #88c657;\n    cursor: pointer;\n    color: #fff;\n}\n/* Dias que não fazem parte do current_month */\n.col-wp-calendar.not-current-month[data-v-1051dcca] {\n    color: rgba(56, 57, 56, .3);\n}\n/* Hoje */\n.col-wp-calendar.today[data-v-1051dcca] {\n    background-color: #71c158 ;\n    color: #fff;\n    font-weight: 700;\n}\n.calendar-header[data-v-1051dcca] {\n    background: linear-gradient(to bottom, #6EC058 0%, #88C657 100%);\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    height: 50px;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    color: #fff;\n    border: 1px solid #fff;\n    border-radius: 4px 4px 0 0;\n}\n.badge-calendar-wp[data-v-1051dcca] {\n    display: block;\n    width: 18px;\n    height: 17px;\n    position: absolute;\n    top: 2px;\n    right: 5px;\n    color: white;\n    padding: 3px;\n    background-color: #4A5464;\n    font-size: 9px;\n    border-radius: 50%;\n}\n.unavaiable[data-v-1051dcca]{\n    background: #F5404B !important;\n    color: #fff;\n}\n\n"],sourceRoot:""}])},873:function(t,e,n){var a=n(872);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(860)("47f24030",a,!0)},874:function(t,e,n){n(873);var a=n(2)(n(871),n(875),"data-v-1051dcca",null);t.exports=a.exports},875:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header ch-alt m-b-10"},[t.current_month?n("h2",{staticClass:"f-400 text-center"},[t._v(t._s(t._f("moment")(t.current_month,"YYYY")))]):t._e()]),t._v(" "),n("div",{staticClass:"card-body clearfix"},[n("div",{staticClass:"calendar-header clearfix"},[n("div",{staticClass:"col-xs-6"},[t.current_month?n("h3",{staticClass:"title m-b-20 m-l-5 f-300"},[t._v(t._s(t._f("moment")(t.current_month,"MMMM")))]):t._e()]),t._v(" "),n("div",{staticClass:"col-xs-6"},[n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-transparent f-24",attrs:{title:"Semana Anterior"},on:{click:function(e){e.preventDefault(),t.handlePrevMonth(e)}}},[n("i",{staticClass:"ion-ios-arrow-thin-left"})]),t._v(" "),n("button",{staticClass:"btn btn-transparent f-24",attrs:{title:"Proxima Semana"},on:{click:function(e){e.preventDefault(),t.handleNextMonth(e)}}},[n("i",{staticClass:"ion-ios-arrow-thin-right"})])])])]),t._v(" "),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12 col-xs-12 col-lg-12"},[t._l(t.week_days,function(e,a){return n("div",{staticClass:"col-wp-calendar-header col-xs-12"},[n("span",{attrs:{"x-apple-data-detectors":"false"}},[t._v(t._s(e))])])}),t._v(" "),t._l(t.month_days,function(e,a){return n("div",{staticClass:"col-wp-calendar col-xs-12",class:{unavaiable:e.is_unavaiable&&e.category_professionals==e.unavaiable_professionals,"not-current-month":t.current_month.format("MM/YYYY")!==e.date.format("MM/YYYY"),today:t.today.format("DD/MM")===e.day&&t.today.format("MM/YYYY")===t.current_month.format("MM/YYYY")},attrs:{"x-apple-data-detectors":"false"},on:{click:function(n){t.handleSlotDay(a,e)}}},[n("span",{staticClass:"cursor-pointer",attrs:{"x-apple-data-detectors":"false"}},[t._v(t._s(t._f("moment")(e.date,"DD")))]),t._v(" "),e.schedules_count>0?n("span",{staticClass:"badge-calendar-wp"},[t._v(t._s(e.schedules_count))]):t._e()])})],2)])])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=38.1e6c147ff6c80de8018f.js.map