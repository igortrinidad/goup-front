webpackJsonp([14],{321:function(t,o,a){a(789);var n=a(3)(a(707),a(832),"data-v-615303bb",null);t.exports=n.exports},707:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=a(23),e=a.n(n),s=a(736),i=a(19),r=a(52);o.default={name:"login",components:{mainHeader:a(51)},data:function(){return{interactions:{loginWithEmail:!1},login:{email:"",password:""}}},computed:e()({},a.i(i.a)(["language"]),{translations:function(){return"en"===this.language?s.a:"pt"===this.language?s.b:void 0}}),mounted:function(){window.cordova&&openFB.init({appId:r.a,tokenStore:localStorage})},methods:e()({},a.i(i.b)(["authSetToken","authSetUser","setLoading"]),{makeLogin:function(){var t=this;t.setLoading({is_loading:!0,message:""}),t.$http.post("/auth/login",t.login).then(function(o){t.setLoading({is_loading:!1,message:""}),t.authSetToken(o.data.token),t.authSetUser(o.data.user),t.$router.push(t.handleRedirect()),successNotify("","Login efetuado com sucesso.")}).catch(function(t){console.log(t)})},handleRedirect:function(){var t=this;return(t.$route.query.redirect_back?t.$route.query.redirect_back:t.$route.query.redirect)||"/"},facebookLogin:function(){var t=this;t.setLoading({is_loading:!0,message:""}),window.cordova&&openFB.login(function(o){"connected"===o.status?t.statusChangeCallback(o):(alert("Facebook login failed: "+o.error),window.clearAndMaintain(),t.setLoading({is_loading:!1,message:""}),window.cordova&&window.cookies.clear())},{scope:"public_profile,email"}),window.cordova||FB.login(function(o){t.statusChangeCallback(o),t.setLoading({is_loading:!1,message:""})},{scope:"public_profile,email"})},statusChangeCallback:function(t){var o=this;"connected"===t.status?o.getUserInfo(t.authResponse.accessToken):errorNotify("","É necessário fazer login para continuar.")},getUserInfo:function(t){var o=this;window.cordova&&openFB.api({path:"/v2.8/me",params:{access_token:t,fields:"id,name,first_name,last_name,email"},success:function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="user",o.socialLogin(a)},error:o.errorHandler}),window.cordova||FB.api("/me",{fields:"name,first_name, last_name, email"},function(a){a.photo_url="https://graph.facebook.com/"+a.id+"/picture?type=normal",a.access_token=t,a.role="user",o.socialLogin(a)})},socialLogin:function(t){var o=this;localStorage.setItem("provider","facebook"),o.$http.post("/auth/social_login",t).then(function(t){o.authSetToken(t.data.access_token),o.authSetUser(t.data.user),successNotify("","Login efetuado com sucesso."),o.$router.push(o.handleRedirect(t.data.user.id)),o.setLoading({is_loading:!1,message:""})}).catch(function(t){errorNotify("Ops!","Erro ao efetuar login."),window.clearAndMaintain(),window.cordova&&window.cookies.clear()})},errorHandler:function(t){errorNotify("",t.message),window.clearAndMaintain(),window.cordova&&window.cookies.clear()}})}},736:function(t,o,a){"use strict";a.d(o,"a",function(){return n}),a.d(o,"b",function(){return e});var n={title:"Great to see you again!",login:"Login",loginEmail:"Login with e-mail",loginFacebook:"Login with Facebook",inputEmail:"Enter your e-mail",inputPassword:"Enter your password",tourTitle:"Discover new places near you",likeLocal:"Slide up to enjoy and mark as a favorite",unlikeLocal:"Swipe down to skip location",friends:"Find peoples who also favored the same places as you",signup:"Don't have an account?",getStart:"Get started",forgotPassword:"Forgot your password?",terms:{first:"When continue you agree with our",terms_button:"Terms of Use",and:"and",privacy_button:"Privacy Policy."}},e={title:"Que bom ver você novamente!",login:"Entrar",loginEmail:"Entrar com e-mail",loginFacebook:"Entrar com Facebook",inputEmail:"Informe seu e-mail",inputPassword:"Informe sua senha",tourTitle:"Descubra locais novos perto de você",likeLocal:"Deslize para cima para curtir e favoritar o local",unlikeLocal:"Deslize para baixo para ignorar o local",friends:"Encontre pessoas que também preferiram os mesmos lugares que você",signup:"Ainda não tem uma conta?",getStart:"Cadastre-se",forgotPassword:"Esqueceu sua senha?",terms:{first:"Ao continuar você concorda com nossos",terms_button:"Termos de Uso",and:"e",privacy_button:"Política de privacidade."}}},764:function(t,o,a){o=t.exports=a(674)(),o.push([t.i,'.logo[data-v-615303bb]{max-width:150px;margin:0 auto;display:block}.tour-title[data-v-615303bb]{height:65px}.main.login[data-v-615303bb]{background-color:#561f9f;background-image:url("https://s3.amazonaws.com/goup-assets/img/pattern-goup-transp.png");background-repeat:repeat;height:100vh;overflow:scroll}',"",{version:3,sources:["/Users/igortrindade/Code/goup-front/src/modules/general/auth/components/login.vue"],names:[],mappings:"AACA,uBACI,gBAAiB,AACjB,cAAe,AACf,aAAc,CACjB,AACD,6BACI,WAAa,CAChB,AACD,6BACI,yBAA0B,AAC1B,yFAA0F,AAC1F,yBAA0B,AAC1B,aAAc,AACd,eAAiB,CACpB",file:"login.vue",sourcesContent:['\n.logo[data-v-615303bb] {\n    max-width: 150px;\n    margin: 0 auto;\n    display: block\n}\n.tour-title[data-v-615303bb] {\n    height: 65px;\n}\n.main.login[data-v-615303bb] {\n    background-color: #561F9F;\n    background-image: url("https://s3.amazonaws.com/goup-assets/img/pattern-goup-transp.png");\n    background-repeat: repeat;\n    height: 100vh;\n    overflow: scroll;\n}\n'],sourceRoot:""}])},789:function(t,o,a){var n=a(764);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(675)("766161c0",n,!0)},832:function(t,o,a){t.exports={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("main-header",{attrs:{title:"Login",type:"back",cursor:!1}}),t._v(" "),a("div",{staticClass:"main login first-container"},[t._m(0),t._v(" "),a("div",{staticClass:"container m-t-20"},[t.interactions.loginWithEmail?t._e():a("div",[a("button",{staticClass:"btn btn-block btn-primary m-t-10",attrs:{type:"button"},on:{click:function(o){t.interactions.loginWithEmail=!0}}},[t._v("\n                    "+t._s(t.translations.loginEmail)+"\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-block btn-facebook m-t-10",attrs:{type:"button"},on:{click:function(o){o.preventDefault(),t.facebookLogin()}}},[a("i",{staticClass:"ion-social-facebook m-r-10"}),t._v(t._s(t.translations.loginFacebook)+"\n                ")])]),t._v(" "),t.interactions.loginWithEmail?a("div",[a("form",{staticClass:"m-t-30 text-center"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:t.translations.inputEmail},domProps:{value:t.login.email},on:{input:function(o){o.target.composing||(t.login.email=o.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:t.translations.inputPassword},domProps:{value:t.login.password},on:{keyup:function(o){if(!("button"in o)&&t._k(o.keyCode,"enter",13))return null;t.makeLogin(o)},input:function(o){o.target.composing||(t.login.password=o.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button",disabled:!t.login.email||!t.login.password},on:{click:function(o){o.preventDefault(),t.makeLogin()}}},[t._v(t._s(t.translations.login))]),t._v(" "),a("button",{staticClass:"btn btn-block btn-facebook m-t-20",attrs:{type:"button"},on:{click:function(o){o.preventDefault(),t.facebookLogin()}}},[a("i",{staticClass:"ion-social-facebook m-r-10"}),t._v(t._s(t.translations.loginFacebook)+"\n                    ")])])]):t._e()]),t._v(" "),a("div",{staticClass:"container text-center"},[a("div",{staticClass:"m-t-20"},[a("small",{staticClass:"f-300"},[a("router-link",{staticClass:"btn btn-info btn-xs",attrs:{to:{name:"landing.reset-pass",params:{usertype:"user"}}}},[t._v("\n                        "+t._s(t.translations.forgotPassword)+"\n                    ")])],1)]),t._v(" "),a("div",{staticClass:"m-t-20"},[a("p",{staticClass:"f-13 f-300"},[t._v(t._s(t.translations.signup))]),t._v(" "),a("router-link",{staticClass:"f-primary btn btn-primary",attrs:{to:{name:"auth.signup"}}},[t._v(t._s(t.translations.getStart))])],1),t._v(" "),a("span",[a("p",{staticClass:"f-13 f-300 m-t-20"},[t._v("\n                    "+t._s(t.translations.terms.first)+"\n                    "),a("router-link",{attrs:{to:"/termos-de-uso"}},[t._v("\n                        "+t._s(t.translations.terms.terms_button)+"\n                    ")]),t._v("\n                    "+t._s(t.translations.terms.and)+"\n                    "),a("router-link",{attrs:{to:"/privacidade"}},[t._v("\n                        "+t._s(t.translations.terms.privacy_button)+"\n                    ")])],1)])])])],1)},staticRenderFns:[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"container text-center"},[n("img",{staticClass:"logo",attrs:{src:a(80),alt:""}})])}]}}});
//# sourceMappingURL=14.351bd10739aabe70cfc9.js.map